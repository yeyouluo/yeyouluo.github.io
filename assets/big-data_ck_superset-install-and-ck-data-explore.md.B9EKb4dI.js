import{_ as i,c as a,o as n,ag as e}from"./chunks/framework.BZemHgQ6.js";const l="/assets/image-20240526184332487.UOkMWS5n.png",o=JSON.parse('{"title":"","description":"","frontmatter":{},"headers":[],"relativePath":"big-data/ck/superset-install-and-ck-data-explore.md","filePath":"big-data/ck/superset-install-and-ck-data-explore.md","lastUpdated":1716733912000}'),p={name:"big-data/ck/superset-install-and-ck-data-explore.md"};function t(h,s,k,r,d,c){return n(),a("div",null,s[0]||(s[0]=[e(`<h2 id="ç¯å¢ƒè¯´æ˜" tabindex="-1">ç¯å¢ƒè¯´æ˜ <a class="header-anchor" href="#ç¯å¢ƒè¯´æ˜" aria-label="Permalink to &quot;ç¯å¢ƒè¯´æ˜&quot;">â€‹</a></h2><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[root@keeper01 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">~</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]# cat /etc/redhat-release</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">CentOS</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Linux</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> release</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 7.6.1810</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (Core)</span></span></code></pre></div><h2 id="pythonç¯å¢ƒå‡†å¤‡" tabindex="-1">Pythonç¯å¢ƒå‡†å¤‡ <a class="header-anchor" href="#pythonç¯å¢ƒå‡†å¤‡" aria-label="Permalink to &quot;Pythonç¯å¢ƒå‡†å¤‡&quot;">â€‹</a></h2><h3 id="ä¸‹è½½-å®‰è£…è„šæœ¬" tabindex="-1">ä¸‹è½½&amp;å®‰è£…è„šæœ¬ <a class="header-anchor" href="#ä¸‹è½½-å®‰è£…è„šæœ¬" aria-label="Permalink to &quot;ä¸‹è½½&amp;å®‰è£…è„šæœ¬&quot;">â€‹</a></h3><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">wget</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://repo.anaconda.com/miniconda/Miniconda3-latest-Linux-x86_64.sh</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --no-check-certificate</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">chmod</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> +x</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Miniconda3-latest-Linux-x86_64.sh</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">./Miniconda3-latest-Linux-x86_64.sh</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># æ¥ä¸‹æ¥æŒ‰ç…§æ“ä½œæç¤ºè¿›è¡Œï¼Œå¯ä»¥å¦å¤–æŒ‡ä»¤å®‰è£…è·¯å¾„</span></span></code></pre></div><h3 id="é…ç½®ç¯å¢ƒå˜é‡" tabindex="-1">é…ç½®ç¯å¢ƒå˜é‡ <a class="header-anchor" href="#é…ç½®ç¯å¢ƒå˜é‡" aria-label="Permalink to &quot;é…ç½®ç¯å¢ƒå˜é‡&quot;">â€‹</a></h3><p>ä¿®æ”¹/etc/profile.d/env.shæ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> CONDA_HOME</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">/root/miniconda3</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> PATH</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$PATH:$CONDA_HOME/bin</span></span></code></pre></div><p>ä¿å­˜å®Œæˆæ‰§è¡Œå¦‚ä¸‹ï¼š</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">source</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /etc/profile</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># é¢„æœŸè¾“å‡º /root/miniconda3/bin/conda</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">which</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> conda</span></span></code></pre></div><h3 id="é…ç½®pypiç¯å¢ƒ" tabindex="-1">é…ç½®pypiç¯å¢ƒ <a class="header-anchor" href="#é…ç½®pypiç¯å¢ƒ" aria-label="Permalink to &quot;é…ç½®pypiç¯å¢ƒ&quot;">â€‹</a></h3><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">conda</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> config</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --set</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> auto_activate_base</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> false</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">conda</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> config</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --add</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> channels</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> http://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/free</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">conda</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> config</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --add</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> channels</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> http://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/main</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">conda</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> config</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --set</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> show_channel_urls</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> yes</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># éªŒè¯é…ç½®</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[root@keeper01 superset]# cat </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">~</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">/.condarc</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">channels:</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  -</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> http://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/main</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  -</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> http://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/free</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  -</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> defaults</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">show_channel_urls:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> true</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">auto_activate_base:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> false</span></span></code></pre></div><h2 id="pypiå®‰è£…superset" tabindex="-1">pypiå®‰è£…Superset <a class="header-anchor" href="#pypiå®‰è£…superset" aria-label="Permalink to &quot;pypiå®‰è£…Superset&quot;">â€‹</a></h2><blockquote><ul><li><p>å‚è€ƒèµ„æ–™ï¼š<a href="https://blog.csdn.net/weixin_45557389/article/details/109785210" target="_blank" rel="noreferrer">CSDN | Supersetå®‰è£…ã€é…ç½®åŠä½¿ç”¨</a></p></li><li><p><a href="https://superset.apache.org/docs/installation/installing-superset-using-docker-compose" target="_blank" rel="noreferrer">å®˜æ–¹æ–‡æ¡£docker-compose å®‰è£… superset</a> æœ‰ä¸å°‘å‘ï¼Œé‚æ”¾å¼ƒã€‚</p></li></ul></blockquote><h3 id="åˆ›å»ºpythonç¯å¢ƒ" tabindex="-1">åˆ›å»ºpythonç¯å¢ƒ <a class="header-anchor" href="#åˆ›å»ºpythonç¯å¢ƒ" aria-label="Permalink to &quot;åˆ›å»ºpythonç¯å¢ƒ&quot;">â€‹</a></h3><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mkdir</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ~/superset</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> &amp;&amp; </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ~/superset</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">conda</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> create</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -n</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> superset</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> python=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3.10</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">conda</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> init</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">conda</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> activate</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> superset</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># é¢„æœŸæ˜¯Python 3.10.x</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">python3</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -V</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">superset</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) [root@keeper01 superset]# python3 -V</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Python</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 3.10.14</span></span></code></pre></div><blockquote><p>âš ï¸ ã€é—®é¢˜ã€‘æ‰§è¡Œ<code>conda activate superset</code> å‡ºç°é”™è¯¯ï¼š<code>CondaError: Run &#39;conda init&#39; before &#39;conda activate&#39;</code></p><p>ã€è§£å†³ã€‘åœ¨æ‰§è¡Œäº†conda initï¼Œä½†æ˜¯è¿˜æ˜¯ä¼šæŠ¥ä¸€æ ·çš„é”™è¯¯ã€‚éœ€è¦é€€å‡ºç»ˆç«¯å†è¿›å…¥å°±å¥½äº†ã€‚</p></blockquote><h3 id="å®‰è£…åŸºç¡€ä¾èµ–" tabindex="-1">å®‰è£…åŸºç¡€ä¾èµ– <a class="header-anchor" href="#å®‰è£…åŸºç¡€ä¾èµ–" aria-label="Permalink to &quot;å®‰è£…åŸºç¡€ä¾èµ–&quot;">â€‹</a></h3><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">yum</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -y</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> python-setuptools</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">yum</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -y</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> gcc</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> gcc-c++</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> libffi-devel</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> python-devel</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> python-pip</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> python-wheel</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> openssl-devel</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> cyrus-sasl-devel</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> openldap-devel</span></span></code></pre></div><h3 id="å®‰è£…superset" tabindex="-1">å®‰è£…SuperSet <a class="header-anchor" href="#å®‰è£…superset" aria-label="Permalink to &quot;å®‰è£…SuperSet&quot;">â€‹</a></h3><h4 id="ä½¿ç”¨pipå®‰è£…" tabindex="-1">ä½¿ç”¨pipå®‰è£… <a class="header-anchor" href="#ä½¿ç”¨pipå®‰è£…" aria-label="Permalink to &quot;ä½¿ç”¨pipå®‰è£…&quot;">â€‹</a></h4><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pip</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> apache-superset</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -i</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://mirrors.huaweicloud.com/repository/pypi/simple</span></span></code></pre></div><blockquote><p>æœ€åä¼šæ‰“å°å¦‚ä¸‹æ—¥å¿—ï¼Œå°±è¡¨ç¤ºå®‰è£…æˆåŠŸï¼š</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Successfully</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> installed</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Babel-2.15.0</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Flask-Babel-2.0.0</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Flask-JWT-Extended-4.6.0</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Flask-Limiter-3.7.0</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Flask-SQLAlchemy-2.5.1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Jinja2-3.1.4</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Mako-1.3.5</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> MarkupSafe-2.1.5</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> PyJWT-2.8.0</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Werkzeug-3.0.3</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> alembic-1.13.1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> amqp-5.2.0</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> apache-superset-4.0.1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> apispec-6.6.1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> apsw-3.46.0.0</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> async-timeout-4.0.3</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> attrs-23.2.0</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> backoff-2.2.1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> bcrypt-4.1.3</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> billiard-4.2.0</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> blinker-1.8.2</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> bottleneck-1.3.8</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> brotli-1.1.0</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> cachelib-0.9.0</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> cachetools-5.3.3</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> cattrs-23.2.3</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> celery-5.4.0</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> certifi-2024.2.2</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> cffi-1.16.0</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> charset-normalizer-3.3.2</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> click-8.1.7</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> click-didyoumean-0.3.1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> click-option-group-0.5.6</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> click-plugins-1.1.1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> click-repl-0.3.0</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> colorama-0.4.6</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> cron-descriptor-1.4.3</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> croniter-2.0.5</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> cryptography-42.0.7</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> deprecated-1.2.14</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> deprecation-2.1.0</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> dnspython-2.6.1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> email-validator-2.1.1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> exceptiongroup-1.2.1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> flask-2.3.3</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> flask-appbuilder-4.5.0</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> flask-caching-2.3.0</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> flask-compress-1.15</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> flask-login-0.6.3</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> flask-migrate-3.1.0</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> flask-session-0.8.0</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> flask-talisman-1.1.0</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> flask-wtf-1.2.1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> func_timeout-4.3.5</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> geographiclib-2.0</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> geopy-2.4.1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> google-auth-2.29.0</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> greenlet-3.0.3</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> gunicorn-21.2.0</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> h11-0.14.0</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> hashids-1.3.1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> holidays-0.25</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> humanize-4.9.0</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> idna-3.7</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> importlib-resources-6.4.0</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> importlib_metadata-7.1.0</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> isodate-0.6.1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> itsdangerous-2.2.0</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> jsonschema-4.22.0</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> jsonschema-specifications-2023.12.1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> kombu-5.3.7</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> korean-lunar-calendar-0.3.1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> limits-3.12.0</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> llvmlite-0.42.0</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> markdown-3.6</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> markdown-it-py-3.0.0</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> marshmallow-3.21.2</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> marshmallow-sqlalchemy-0.28.2</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> mdurl-0.1.2</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> msgpack-1.0.8</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> msgspec-0.18.6</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> nh3-0.2.17</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> numba-0.59.1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> numexpr-2.10.0</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> numpy-1.23.5</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ordered-set-4.1.0</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> outcome-1.3.0.post0</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> packaging-24.0</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pandas-2.0.3</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> paramiko-3.4.0</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> parsedatetime-2.6</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pgsanity-0.2.9</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> platformdirs-4.2.2</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> polyline-2.0.2</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> prison-0.2.1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> prompt-toolkit-3.0.43</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pyarrow-14.0.2</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pyasn1-0.6.0</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pyasn1-modules-0.4.0</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pycparser-2.22</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pygments-2.18.0</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pynacl-1.5.0</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pyopenssl-24.1.0</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pyparsing-3.1.2</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pysocks-1.7.1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> python-dateutil-2.9.0.post0</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> python-dotenv-1.0.1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> python-geohash-0.8.5</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pytz-2024.1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pyyaml-6.0.1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> redis-4.6.0</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> referencing-0.35.1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> requests-2.32.2</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> requests-cache-1.2.0</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> rich-13.7.1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> rpds-py-0.18.1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> rsa-4.9</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> selenium-4.9.1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> shillelagh-1.2.19</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> shortid-0.1.2</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> simplejson-3.19.2</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> six-1.16.0</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> slack_sdk-3.27.2</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> sniffio-1.3.1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> sortedcontainers-2.4.0</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> sqlalchemy-1.4.52</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> sqlalchemy-utils-0.38.3</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> sqlglot-23.17.0</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> sqlparse-0.4.4</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> sshtunnel-0.4.0</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> tabulate-0.8.10</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> trio-0.25.1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> trio-websocket-0.11.1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> typing-extensions-4.12.0</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> tzdata-2024.1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> url-normalize-1.4.3</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> urllib3-2.2.1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> vine-5.1.0</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> wcwidth-0.2.13</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> wrapt-1.16.0</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> wsproto-1.2.0</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> wtforms-3.1.2</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> wtforms-json-0.3.5</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> xlsxwriter-3.0.9</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> zipp-3.18.2</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> zstandard-0.22.0</span></span></code></pre></div></blockquote><h4 id="éªŒè¯" tabindex="-1">éªŒè¯ <a class="header-anchor" href="#éªŒè¯" aria-label="Permalink to &quot;éªŒè¯&quot;">â€‹</a></h4><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">superset</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) [root@keeper01 superset]# which superset</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">/root/miniconda3/envs/superset/bin/superset</span></span></code></pre></div><h3 id="åˆå§‹åŒ–supersetæ•°æ®åº“" tabindex="-1">åˆå§‹åŒ–Supersetæ•°æ®åº“ <a class="header-anchor" href="#åˆå§‹åŒ–supersetæ•°æ®åº“" aria-label="Permalink to &quot;åˆå§‹åŒ–Supersetæ•°æ®åº“&quot;">â€‹</a></h3><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">superset</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> db</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> upgrade</span></span></code></pre></div><div class="tip custom-block"><p class="custom-block-title">å°è´´å£«</p><p>Superseté‡‡ç”¨çš„æ•°æ®åº“æ˜¯sqlliteæ•°æ®åº“ï¼Œæ˜¯ä¸€ä¸ªè½»é‡çº§çš„æ•°æ®é‡ã€‚</p></div><div class="warning custom-block"><p class="custom-block-title">é”™è¯¯åŠè§£å†³</p><blockquote><p>ğŸ“¢ å¦‚æœæ²¡æœ‰è¿™ä¸€æ­¥ï¼Œå¯åŠ¨æ²¡æœ‰é—®é¢˜ã€‚ä½†æµè§ˆå™¨ç™»å½•åè®¿é—®ä¼šæŠ¥é”™500ï¼Œæ—¥å¿—ä¼šæç¤º<code>sqlite3.OperationalError: no such table: user_attribute</code>ã€‚å‚è€ƒï¼š<a href="https://github.com/apache/superset/issues/7354" target="_blank" rel="noreferrer">https://github.com/apache/superset/issues/7354</a></p></blockquote></div><h3 id="åˆ›å»ºç®¡ç†å‘˜ç”¨æˆ·" tabindex="-1">åˆ›å»ºç®¡ç†å‘˜ç”¨æˆ· <a class="header-anchor" href="#åˆ›å»ºç®¡ç†å‘˜ç”¨æˆ·" aria-label="Permalink to &quot;åˆ›å»ºç®¡ç†å‘˜ç”¨æˆ·&quot;">â€‹</a></h3><p>ç»™supersetåˆ›å»ºç®¡ç†å‘˜ç”¨æˆ·</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> FLASK_APP</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">superset</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> export</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> SUPERSET_SECRET_KEY</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;oh-so-secret&quot;</span></span></code></pre></div><p>åœ¨é‡Œé¢å¯ä»¥è®¾ç½®ç”¨æˆ·åä¸å¯†ç ï¼Œå…¶ä»–çš„å¯ä»¥ä¸ç”¨è®¾ç½®ï¼Œç›´æ¥enterå°±è¡Œ</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>(superset) [root@keeper01 ~]# export FLASK_APP=superset</span></span>
<span class="line"><span>(superset) [root@keeper01 ~]# export SUPERSET_SECRET_KEY=&quot;oh-so-secret&quot;</span></span>
<span class="line"><span>(superset) [root@keeper01 ~]# flask fab create-admin</span></span>
<span class="line"><span>Username [admin]: superset</span></span>
<span class="line"><span>User first name [admin]:</span></span>
<span class="line"><span>User last name [user]:</span></span>
<span class="line"><span>Email [admin@fab.org]:</span></span>
<span class="line"><span>Password:</span></span>
<span class="line"><span>Repeat for confirmation:</span></span>
<span class="line"><span>logging was configured successfully</span></span>
<span class="line"><span>2024-05-26 12:12:30,324:INFO:superset.utils.logging_configurator:logging was configured successfully</span></span>
<span class="line"><span>2024-05-26 12:12:30,339:INFO:root:Configured event logger of type &lt;class &#39;superset.utils.log.DBEventLogger&#39;&gt;</span></span>
<span class="line"><span>/root/miniconda3/envs/superset/lib/python3.10/site-packages/flask_limiter/extension.py:333: UserWarning: Using the in-memory storage for tracking rate limits as no storage was explicitly specified. This is not recommended for production use. See: https://flask-limiter.readthedocs.io#configuring-a-storage-backend for documentation about configuring the storage backend.</span></span>
<span class="line"><span>  warnings.warn(</span></span>
<span class="line"><span>No PIL installation found</span></span>
<span class="line"><span>2024-05-26 12:12:30,784:INFO:superset.utils.screenshots:No PIL installation found</span></span>
<span class="line"><span>Recognized Database Authentications.</span></span>
<span class="line"><span>Admin User superset created.</span></span></code></pre></div><div class="warning custom-block"><p class="custom-block-title">é”™è¯¯åŠè§£å†³</p><p>ã€é—®é¢˜ã€‘<code>Refusing to start due to insecure SECRET_KEY</code></p><p>ã€è§£å†³ã€‘ <code> export SUPERSET_SECRET_KEY=&quot;oh-so-secret&quot;</code>ï¼Œå‚è€ƒ ï¼š<a href="https://www.markhneedham.com/blog/2023/10/13/apache-superset-refusing-start-insecure-key/" target="_blank" rel="noreferrer">Apache Superset: Refusing to start due to insecure SECRET_KEY</a></p></div><h3 id="åˆå§‹åŒ–" tabindex="-1">åˆå§‹åŒ– <a class="header-anchor" href="#åˆå§‹åŒ–" aria-label="Permalink to &quot;åˆå§‹åŒ–&quot;">â€‹</a></h3><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>superset init</span></span>
<span class="line"><span></span></span>
<span class="line"><span>(superset) [root@keeper01 ~]# superset init</span></span>
<span class="line"><span>logging was configured successfully</span></span>
<span class="line"><span>2024-05-26 12:14:21,843:INFO:superset.utils.logging_configurator:logging was configured successfully</span></span>
<span class="line"><span>2024-05-26 12:14:21,850:INFO:root:Configured event logger of type &lt;class &#39;superset.utils.log.DBEventLogger&#39;&gt;</span></span>
<span class="line"><span>/root/miniconda3/envs/superset/lib/python3.10/site-packages/flask_limiter/extension.py:333: UserWarning: Using the in-memory storage for tracking rate limits as no storage was explicitly specified. This is not recommended for production use. See: https://flask-limiter.readthedocs.io#configuring-a-storage-backend for documentation about configuring the storage backend.</span></span>
<span class="line"><span>  warnings.warn(</span></span>
<span class="line"><span>No PIL installation found</span></span>
<span class="line"><span>2024-05-26 12:14:22,101:INFO:superset.utils.screenshots:No PIL installation found</span></span>
<span class="line"><span>Syncing role definition</span></span>
<span class="line"><span>2024-05-26 12:14:27,503:INFO:superset.security.manager:Syncing role definition</span></span>
<span class="line"><span>Syncing Admin perms</span></span>
<span class="line"><span>2024-05-26 12:14:27,652:INFO:superset.security.manager:Syncing Admin perms</span></span>
<span class="line"><span>Syncing Alpha perms</span></span>
<span class="line"><span>2024-05-26 12:14:27,668:INFO:superset.security.manager:Syncing Alpha perms</span></span>
<span class="line"><span>Syncing Gamma perms</span></span>
<span class="line"><span>2024-05-26 12:14:27,867:INFO:superset.security.manager:Syncing Gamma perms</span></span>
<span class="line"><span>Syncing sql_lab perms</span></span>
<span class="line"><span>2024-05-26 12:14:28,064:INFO:superset.security.manager:Syncing sql_lab perms</span></span>
<span class="line"><span>Fetching a set of all perms to lookup which ones are missing</span></span>
<span class="line"><span>2024-05-26 12:14:28,245:INFO:superset.security.manager:Fetching a set of all perms to lookup which ones are missing</span></span>
<span class="line"><span>Creating missing datasource permissions.</span></span>
<span class="line"><span>2024-05-26 12:14:28,252:INFO:superset.security.manager:Creating missing datasource permissions.</span></span>
<span class="line"><span>Traceback (most recent call last):</span></span>
<span class="line"><span>  File &quot;/root/miniconda3/envs/superset/lib/python3.10/site-packages/sqlalchemy/engine/base.py&quot;, line 1910, in _execute_context</span></span>
<span class="line"><span>    self.dialect.do_execute(</span></span>
<span class="line"><span>  File &quot;/root/miniconda3/envs/superset/lib/python3.10/site-packages/sqlalchemy/engine/default.py&quot;, line 736, in do_execute</span></span>
<span class="line"><span>    cursor.execute(statement, parameters)</span></span>
<span class="line"><span>sqlite3.OperationalError: no such table: tables</span></span>
<span class="line"><span></span></span>
<span class="line"><span>The above exception was the direct cause of the following exception:</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Traceback (most recent call last):</span></span>
<span class="line"><span>  File &quot;/root/miniconda3/envs/superset/bin/superset&quot;, line 8, in &lt;module&gt;</span></span>
<span class="line"><span>    sys.exit(superset())</span></span>
<span class="line"><span>  File &quot;/root/miniconda3/envs/superset/lib/python3.10/site-packages/click/core.py&quot;, line 1157, in __call__</span></span>
<span class="line"><span>    return self.main(*args, **kwargs)</span></span>
<span class="line"><span>  File &quot;/root/miniconda3/envs/superset/lib/python3.10/site-packages/click/core.py&quot;, line 1078, in main</span></span>
<span class="line"><span>    rv = self.invoke(ctx)</span></span>
<span class="line"><span>  File &quot;/root/miniconda3/envs/superset/lib/python3.10/site-packages/click/core.py&quot;, line 1688, in invoke</span></span>
<span class="line"><span>    return _process_result(sub_ctx.command.invoke(sub_ctx))</span></span>
<span class="line"><span>  File &quot;/root/miniconda3/envs/superset/lib/python3.10/site-packages/click/core.py&quot;, line 1434, in invoke</span></span>
<span class="line"><span>    return ctx.invoke(self.callback, **ctx.params)</span></span>
<span class="line"><span>  File &quot;/root/miniconda3/envs/superset/lib/python3.10/site-packages/click/core.py&quot;, line 783, in invoke</span></span>
<span class="line"><span>    return __callback(*args, **kwargs)</span></span>
<span class="line"><span>  File &quot;/root/miniconda3/envs/superset/lib/python3.10/site-packages/click/decorators.py&quot;, line 33, in new_func</span></span>
<span class="line"><span>    return f(get_current_context(), *args, **kwargs)</span></span>
<span class="line"><span>  File &quot;/root/miniconda3/envs/superset/lib/python3.10/site-packages/flask/cli.py&quot;, line 358, in decorator</span></span>
<span class="line"><span>    return __ctx.invoke(f, *args, **kwargs)</span></span>
<span class="line"><span>  File &quot;/root/miniconda3/envs/superset/lib/python3.10/site-packages/click/core.py&quot;, line 783, in invoke</span></span>
<span class="line"><span>    return __callback(*args, **kwargs)</span></span>
<span class="line"><span>  File &quot;/root/miniconda3/envs/superset/lib/python3.10/site-packages/click/decorators.py&quot;, line 33, in new_func</span></span>
<span class="line"><span>    return f(get_current_context(), *args, **kwargs)</span></span>
<span class="line"><span>  File &quot;/root/miniconda3/envs/superset/lib/python3.10/site-packages/flask/cli.py&quot;, line 358, in decorator</span></span>
<span class="line"><span>    return __ctx.invoke(f, *args, **kwargs)</span></span>
<span class="line"><span>  File &quot;/root/miniconda3/envs/superset/lib/python3.10/site-packages/click/core.py&quot;, line 783, in invoke</span></span>
<span class="line"><span>    return __callback(*args, **kwargs)</span></span>
<span class="line"><span>  File &quot;/root/miniconda3/envs/superset/lib/python3.10/site-packages/superset/cli/main.py&quot;, line 65, in init</span></span>
<span class="line"><span>    security_manager.sync_role_definitions()</span></span>
<span class="line"><span>  File &quot;/root/miniconda3/envs/superset/lib/python3.10/site-packages/superset/security/manager.py&quot;, line 891, in sync_role_definitions</span></span>
<span class="line"><span>    self.create_missing_perms()</span></span>
<span class="line"><span>  File &quot;/root/miniconda3/envs/superset/lib/python3.10/site-packages/superset/security/manager.py&quot;, line 838, in create_missing_perms</span></span>
<span class="line"><span>    datasources = SqlaTable.get_all_datasources()</span></span>
<span class="line"><span>  File &quot;/root/miniconda3/envs/superset/lib/python3.10/site-packages/superset/connectors/sqla/models.py&quot;, line 1954, in get_all_datasources</span></span>
<span class="line"><span>    return qry.all()</span></span>
<span class="line"><span>  File &quot;/root/miniconda3/envs/superset/lib/python3.10/site-packages/sqlalchemy/orm/query.py&quot;, line 2773, in all</span></span>
<span class="line"><span>    return self._iter().all()</span></span>
<span class="line"><span>  File &quot;/root/miniconda3/envs/superset/lib/python3.10/site-packages/sqlalchemy/orm/query.py&quot;, line 2916, in _iter</span></span>
<span class="line"><span>    result = self.session.execute(</span></span>
<span class="line"><span>  File &quot;/root/miniconda3/envs/superset/lib/python3.10/site-packages/sqlalchemy/orm/session.py&quot;, line 1717, in execute</span></span>
<span class="line"><span>    result = conn._execute_20(statement, params or {}, execution_options)</span></span>
<span class="line"><span>  File &quot;/root/miniconda3/envs/superset/lib/python3.10/site-packages/sqlalchemy/engine/base.py&quot;, line 1710, in _execute_20</span></span>
<span class="line"><span>    return meth(self, args_10style, kwargs_10style, execution_options)</span></span>
<span class="line"><span>  File &quot;/root/miniconda3/envs/superset/lib/python3.10/site-packages/sqlalchemy/sql/elements.py&quot;, line 334, in _execute_on_connection</span></span>
<span class="line"><span>    return connection._execute_clauseelement(</span></span>
<span class="line"><span>  File &quot;/root/miniconda3/envs/superset/lib/python3.10/site-packages/sqlalchemy/engine/base.py&quot;, line 1577, in _execute_clauseelement</span></span>
<span class="line"><span>    ret = self._execute_context(</span></span>
<span class="line"><span>  File &quot;/root/miniconda3/envs/superset/lib/python3.10/site-packages/sqlalchemy/engine/base.py&quot;, line 1953, in _execute_context</span></span>
<span class="line"><span>    self._handle_dbapi_exception(</span></span>
<span class="line"><span>  File &quot;/root/miniconda3/envs/superset/lib/python3.10/site-packages/sqlalchemy/engine/base.py&quot;, line 2134, in _handle_dbapi_exception</span></span>
<span class="line"><span>    util.raise_(</span></span>
<span class="line"><span>  File &quot;/root/miniconda3/envs/superset/lib/python3.10/site-packages/sqlalchemy/util/compat.py&quot;, line 211, in raise_</span></span>
<span class="line"><span>    raise exception</span></span>
<span class="line"><span>  File &quot;/root/miniconda3/envs/superset/lib/python3.10/site-packages/sqlalchemy/engine/base.py&quot;, line 1910, in _execute_context</span></span>
<span class="line"><span>    self.dialect.do_execute(</span></span>
<span class="line"><span>  File &quot;/root/miniconda3/envs/superset/lib/python3.10/site-packages/sqlalchemy/engine/default.py&quot;, line 736, in do_execute</span></span>
<span class="line"><span>    cursor.execute(statement, parameters)</span></span>
<span class="line"><span>sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: tables</span></span>
<span class="line"><span>[SQL: SELECT tables.uuid AS tables_uuid, tables.created_on AS tables_created_on, tables.changed_on AS tables_changed_on, tables.id AS tables_id, tables.description AS tables_description, tables.default_endpoint AS tables_default_endpoint, tables.is_featured AS tables_is_featured, tables.filter_select_enabled AS tables_filter_select_enabled, tables.&quot;offset&quot; AS tables_offset, tables.cache_timeout AS tables_cache_timeout, tables.params AS tables_params, tables.perm AS tables_perm, tables.schema_perm AS tables_schema_perm, tables.is_managed_externally AS tables_is_managed_externally, tables.external_url AS tables_external_url, tables.table_name AS tables_table_name, tables.main_dttm_col AS tables_main_dttm_col, tables.database_id AS tables_database_id, tables.fetch_values_predicate AS tables_fetch_values_predicate, tables.schema AS tables_schema, tables.sql AS tables_sql, tables.is_sqllab_view AS tables_is_sqllab_view, tables.template_params AS tables_template_params, tables.extra AS tables_extra, tables.normalize_columns AS tables_normalize_columns, tables.always_filter_main_dttm AS tables_always_filter_main_dttm, tables.created_by_fk AS tables_created_by_fk, tables.changed_by_fk AS tables_changed_by_fk</span></span>
<span class="line"><span>FROM tables</span></span>
<span class="line"><span>WHERE tables.is_sqllab_view = 0]</span></span>
<span class="line"><span>(Background on this error at: https://sqlalche.me/e/14/e3q8)</span></span></code></pre></div><h3 id="å¯åŠ¨superset" tabindex="-1">å¯åŠ¨Superset <a class="header-anchor" href="#å¯åŠ¨superset" aria-label="Permalink to &quot;å¯åŠ¨Superset&quot;">â€‹</a></h3><h4 id="å®‰è£…gunicorn" tabindex="-1">å®‰è£…gunicorn <a class="header-anchor" href="#å®‰è£…gunicorn" aria-label="Permalink to &quot;å®‰è£…gunicorn&quot;">â€‹</a></h4><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pip</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> gunicorn</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -i</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://mirrors.huaweicloud.com/repository/pypi/simple</span></span></code></pre></div><blockquote><p>gunicornæ˜¯ä¸€ä¸ªPython Web Serverï¼Œå¯ä»¥å’Œjavaä¸­çš„Tomcatç±»æ¯”</p></blockquote><h4 id="å¯åŠ¨superset-1" tabindex="-1">å¯åŠ¨Superset <a class="header-anchor" href="#å¯åŠ¨superset-1" aria-label="Permalink to &quot;å¯åŠ¨Superset&quot;">â€‹</a></h4><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># gunicorn --workers 5 --timeout 120 --bind \`hostname\`:8787 superset:app --daemon</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">gunicorn</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -w</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 5</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -t</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 120</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -b</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> \`</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">hostname</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">\`</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">:8787</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;superset.app:create_app()&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --daemon</span></span></code></pre></div><h5 id="éªŒè¯-1" tabindex="-1">éªŒè¯ <a class="header-anchor" href="#éªŒè¯-1" aria-label="Permalink to &quot;éªŒè¯&quot;">â€‹</a></h5><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">superset</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) [root@keeper01 superset]# netstat -lunpt </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> grep</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 8787</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">tcp</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        0</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      0</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 192.168.107.12:8787</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">     0.0.0.0:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">*</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">               LISTEN</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">      41511/python</span></span></code></pre></div><h3 id="è®¿é—®" tabindex="-1">è®¿é—® <a class="header-anchor" href="#è®¿é—®" aria-label="Permalink to &quot;è®¿é—®&quot;">â€‹</a></h3><p>æµè§ˆå™¨è®¿é—® <a href="http://192.168.107.12:8787/%EF%BC%8C%E8%BE%93%E5%85%A5%E8%B4%A6%E5%8F%B7%E5%AF%86%E7%A0%81%EF%BC%9A%60superset/superset%60" target="_blank" rel="noreferrer">http://192.168.107.12:8787/ï¼Œè¾“å…¥è´¦å·å¯†ç ï¼š\`superset/superset\`</a></p><h3 id="å…³é—­" tabindex="-1">å…³é—­ <a class="header-anchor" href="#å…³é—­" aria-label="Permalink to &quot;å…³é—­&quot;">â€‹</a></h3><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ps</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -ef</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> awk</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;/gunicorn/ &amp;&amp; !/awk/{print $2}&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> xargs</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> kill</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -9</span></span></code></pre></div><h2 id="å¼€å§‹æ¢ç´¢mysqlæ•°æ®" tabindex="-1">å¼€å§‹æ¢ç´¢MySQLæ•°æ® <a class="header-anchor" href="#å¼€å§‹æ¢ç´¢mysqlæ•°æ®" aria-label="Permalink to &quot;å¼€å§‹æ¢ç´¢MySQLæ•°æ®&quot;">â€‹</a></h2><h3 id="å®‰è£…mysqlæ•°æ®åº“é©±åŠ¨" tabindex="-1">å®‰è£…mysqlæ•°æ®åº“é©±åŠ¨ <a class="header-anchor" href="#å®‰è£…mysqlæ•°æ®åº“é©±åŠ¨" aria-label="Permalink to &quot;å®‰è£…mysqlæ•°æ®åº“é©±åŠ¨&quot;">â€‹</a></h3><blockquote><p>å‚è€ƒ <a href="https://superset.apache.org/docs/configuration/databases" target="_blank" rel="noreferrer">https://superset.apache.org/docs/configuration/databases</a></p></blockquote><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">conda</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> activate</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> superset</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">conda</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> mysqlclient</span></span></code></pre></div><h3 id="é‡å¯superset" tabindex="-1">é‡å¯superset <a class="header-anchor" href="#é‡å¯superset" aria-label="Permalink to &quot;é‡å¯superset&quot;">â€‹</a></h3><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ps</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -ef</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> awk</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;/gunicorn/ &amp;&amp; !/awk/{print $2}&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> xargs</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> kill</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -9</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">gunicorn</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -w</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 5</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -t</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 120</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -b</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> \`</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">hostname</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">\`</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">:8787</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;superset.app:create_app()&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --daemon</span></span></code></pre></div><h3 id="åœ¨å®¿ä¸»æœºmacosä¸Šéƒ¨ç½²å¥½mysql" tabindex="-1">åœ¨å®¿ä¸»æœºMacOSä¸Šéƒ¨ç½²å¥½MySQL <a class="header-anchor" href="#åœ¨å®¿ä¸»æœºmacosä¸Šéƒ¨ç½²å¥½mysql" aria-label="Permalink to &quot;åœ¨å®¿ä¸»æœºMacOSä¸Šéƒ¨ç½²å¥½MySQL&quot;">â€‹</a></h3><p>ç•¥</p><h3 id="æ•°æ®æºé…ç½®" tabindex="-1">æ•°æ®æºé…ç½® <a class="header-anchor" href="#æ•°æ®æºé…ç½®" aria-label="Permalink to &quot;æ•°æ®æºé…ç½®&quot;">â€‹</a></h3><p>å‚è€ƒå®˜ç½‘ <a href="https://superset.apache.org/docs/using-superset/creating-your-first-dashboard" target="_blank" rel="noreferrer">https://superset.apache.org/docs/using-superset/creating-your-first-dashboard</a></p><h2 id="å¼€å§‹æ¢ç´¢clickhouseæ•°æ®" tabindex="-1">å¼€å§‹æ¢ç´¢ClickHouseæ•°æ® <a class="header-anchor" href="#å¼€å§‹æ¢ç´¢clickhouseæ•°æ®" aria-label="Permalink to &quot;å¼€å§‹æ¢ç´¢ClickHouseæ•°æ®&quot;">â€‹</a></h2><h3 id="å®‰è£…clickhouseæ•°æ®åº“é©±åŠ¨" tabindex="-1">å®‰è£…ClickHouseæ•°æ®åº“é©±åŠ¨ <a class="header-anchor" href="#å®‰è£…clickhouseæ•°æ®åº“é©±åŠ¨" aria-label="Permalink to &quot;å®‰è£…ClickHouseæ•°æ®åº“é©±åŠ¨&quot;">â€‹</a></h3><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pip</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> clickhouse-connect</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -i</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://mirrors.huaweicloud.com/repository/pypi/simple</span></span></code></pre></div><h3 id="é‡å¯superset-1" tabindex="-1">é‡å¯superset <a class="header-anchor" href="#é‡å¯superset-1" aria-label="Permalink to &quot;é‡å¯superset&quot;">â€‹</a></h3><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ps</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -ef</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> awk</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;/gunicorn/ &amp;&amp; !/awk/{print $2}&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> xargs</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> kill</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -9</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">gunicorn</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -w</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 5</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -t</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 120</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -b</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> \`</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">hostname</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">\`</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">:8787</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;superset.app:create_app()&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --daemon</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">netstat</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -lunpt</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> grep</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 8787</span></span></code></pre></div><h3 id="å‡†å¤‡clickhouseæ•°æ®" tabindex="-1">å‡†å¤‡ClickHouseæ•°æ® <a class="header-anchor" href="#å‡†å¤‡clickhouseæ•°æ®" aria-label="Permalink to &quot;å‡†å¤‡ClickHouseæ•°æ®&quot;">â€‹</a></h3><blockquote><p>å‚è€ƒ <a href="https://clickhouse.com/docs/zh/getting-started/example-datasets/uk-price-paid" target="_blank" rel="noreferrer">https://clickhouse.com/docs/zh/getting-started/example-datasets/uk-price-paid</a></p><p>ClickHouse ç¯å¢ƒè§ <a href="https://yeyouluo.github.io/big-data/ck/ck-install-cluster-with-keeper.html" target="_blank" rel="noreferrer">https://yeyouluo.github.io/big-data/ck/ck-install-cluster-with-keeper.html</a></p></blockquote><ul><li><p>ç”±äºå¤–ç½‘ç½‘é€Ÿè¾ƒæ…¢ï¼Œå› æ­¤å°†æ•°æ®é›†æ–‡ä»¶ä¸‹è½½åˆ°æœ¬åœ°ï¼Œå¹¶å¯åŠ¨ä¸€ä¸ªHTTPæœåŠ¡ï¼š<code>python3 -m http.server</code></p></li><li><p>åœ¨<code>keeper01</code> ä¸»æœºä¸Šæ“ä½œï¼š</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[root@ck01 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">~</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]# clickhouse-client -m</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># è¾“å…¥å¯†ç ï¼š p@$$W0rd</span></span></code></pre></div></li><li><p>æ‰§è¡Œä¸‹åˆ—SQLï¼š</p><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">CREATE</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> DATABASE</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> IF</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> NOT</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> EXISTS</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> sample_db </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">ON</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> CLUSTER cluster1;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">show databases;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">use</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> sample_db;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">CREATE</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> TABLE</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> sample_db</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.uk_price_paid </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">ON</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> CLUSTER cluster1</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    price UInt32,</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    date</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> Date</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    postcode1 LowCardinality(String),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    postcode2 LowCardinality(String),</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    type</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Enum8(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;terraced&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;semi-detached&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;detached&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;flat&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 4</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;other&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    is_new UInt8,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    duration Enum8(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;freehold&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;leasehold&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;unknown&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    addr1 String,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    addr2 String,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    street LowCardinality(String),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    locality LowCardinality(String),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    town LowCardinality(String),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    district LowCardinality(String),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    county LowCardinality(String)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ENGINE </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ReplicatedMergeTree(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;/clickhouse/tables/{shard}/uk_price_paid&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;{replica}&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">ORDER BY</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (postcode1, postcode2, addr1, addr2);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">INSERT INTO</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> sample_db</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">uk_price_paid</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">WITH</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">   splitByChar(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39; &#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, postcode) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">AS</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> p</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">SELECT</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    toUInt32(price_string) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">AS</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> price,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    parseDateTimeBestEffortUS(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">time</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">AS</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> date</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    p[1] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">AS</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> postcode1,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    p[2] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">AS</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> postcode2,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    transform(a, [&#39;T&#39;, &#39;S&#39;, &#39;D&#39;, &#39;F&#39;, &#39;O&#39;], [&#39;terraced&#39;, &#39;semi-detached&#39;, &#39;detached&#39;, &#39;flat&#39;, &#39;other&#39;]) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">AS</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> type</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    b </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;Y&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> AS</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> is_new,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    transform(c, [&#39;F&#39;, &#39;L&#39;, &#39;U&#39;], [&#39;freehold&#39;, &#39;leasehold&#39;, &#39;unknown&#39;]) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">AS</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> duration,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    addr1,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    addr2,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    street,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    locality,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    town,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    district,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    county</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">FROM</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> url</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &#39;http://192.168.107.1:8000/pp-complete.csv&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &#39;CSV&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &#39;uuid_string String,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    price_string String,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    time String,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    postcode String,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    a String,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    b String,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    c String,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    addr1 String,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    addr2 String,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    street String,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    locality String,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    town String,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    district String,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    county String,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    d String,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    e String&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) SETTINGS max_http_get_redirects</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">10</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">-- æŸ¥çœ‹è¡Œæ•°</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">SELECT</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> count</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">FROM</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> uk_price_paid;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">-- æŸ¥çœ‹è¡¨å¤§å°</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">SELECT</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> formatReadableSize(total_bytes)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">FROM</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> system</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">tables</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">WHERE</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> name</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;uk_price_paid&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">-- 3 ä¸ªæŸ¥è¯¢ -- </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">-- æŸ¥è¯¢ 1. æ¯å¹´å¹³å‡ä»·æ ¼</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">SELECT</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">   toYear(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">date</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">AS</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> year</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">   round</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">avg</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(price)) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">AS</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> price,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">   bar(price, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1000000</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">80</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">FROM</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> uk_price_paid</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">GROUP BY</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> year</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">ORDER BY</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> year</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">---30 rows in set. Elapsed: 1.038 sec. Processed 29.07 million rows, 174.42 MB (28.01 million rows/s., 168.08 MB/s.)</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">-- Peak memory usage: 1.01 MiB.</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">-- æŸ¥è¯¢ 2. ä¼¦æ•¦æ¯å¹´çš„å¹³å‡ä»·æ ¼</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">SELECT</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">   toYear(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">date</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">AS</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> year</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">   round</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">avg</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(price)) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">AS</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> price,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">   bar(price, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2000000</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">100</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">FROM</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> uk_price_paid</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">WHERE</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> town </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;LONDON&#39;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">GROUP BY</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> year</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">ORDER BY</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> year</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">-- 30 rows in set. Elapsed: 0.273 sec. Processed 29.07 million rows, 72.58 MB (106.36 million rows/s., 265.57 MB/s.)</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">-- Peak memory usage: 1000.13 KiB.</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">-- æŸ¥è¯¢ 3. æœ€æ˜‚è´µçš„ç¤¾åŒº</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">SELECT</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    town,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    district,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    count</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">AS</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> c,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    round</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">avg</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(price)) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">AS</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> price,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    bar(price, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5000000</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">100</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">FROM</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> uk_price_paid</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">WHERE</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> date</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &gt;=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;2020-01-01&#39;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">GROUP BY</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    town,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    district</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">HAVING</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> c </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 100</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">ORDER BY</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> price </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">DESC</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">LIMIT</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 100</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">-- 100 rows in set. Elapsed: 1.054 sec. Processed 29.07 million rows, 290.70 MB (27.59 million rows/s., 275.90 MB/s.)</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">-- Peak memory usage: 2.04 MiB.</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">-- æ·»åŠ æŠ•å½±</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">ALTER</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> TABLE</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> sample_db</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">uk_price_paid</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> on</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> cluster cluster1 </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    ADD</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> PROJECTION projection_by_year_district_town</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    (</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        SELECT</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            toYear(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">date</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            district,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            town,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">            avg</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(price),</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">            sum</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(price),</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">            count</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        GROUP BY</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            toYear(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">date</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            district,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            town</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    );</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">-- å¡«å……ç°æœ‰æ•°æ®(å¦‚æœä¸è¿›è¡Œ materialize æ“ä½œï¼Œåˆ™ ClickHouse åªä¼šä¸ºæ–°æ’å…¥çš„æ•°æ®åˆ›å»º Projection)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">ALTER</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> TABLE</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> sample_db</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">uk_price_paid</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    MATERIALIZE PROJECTION projection_by_year_district_town</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">SETTINGS mutations_sync </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">-- å†æ¬¡æ‰§è¡Œä¸Šé¢3ä¸ªæŸ¥è¯¢ï¼Œæ¯”å¯¹æ—¶é—´</span></span></code></pre></div></li></ul><h3 id="é…ç½®ä»ªè¡¨æ¿" tabindex="-1">é…ç½®ä»ªè¡¨æ¿ <a class="header-anchor" href="#é…ç½®ä»ªè¡¨æ¿" aria-label="Permalink to &quot;é…ç½®ä»ªè¡¨æ¿&quot;">â€‹</a></h3><blockquote><p>å‚è€ƒ <a href="https://clickhouse.com/docs/en/integrations/superset" target="_blank" rel="noreferrer">https://clickhouse.com/docs/en/integrations/superset</a></p><p>è¯¥ä»ªè¡¨æ¿é…ç½®å°±æ˜¯ä½¿ç”¨ä¸Šé¢çš„æ•°æ®é›†ã€‚</p></blockquote><p>ä¸»è¦æ­¥éª¤ï¼š</p><ul><li>é…ç½® Database Connection</li><li>æ·»åŠ DataSetsï¼Œé€‰ä¸­ <code>uk_price_paid</code> è¡¨</li><li>æ·»åŠ Chartsï¼ŒæŒ‰ç…§éœ€æ±‚é…ç½®å›¾å½¢</li><li>æ·»åŠ Dashboardsï¼Œå°†ChartsåŠ å…¥åˆ°DashBoardï¼Œå‘å¸ƒ</li></ul><p>æœ€ç»ˆçš„æ•ˆæœï¼š</p><p><img src="`+l+'" alt="image-20240526184332487"></p>',73)]))}const g=i(p,[["render",t]]);export{o as __pageData,g as default};
