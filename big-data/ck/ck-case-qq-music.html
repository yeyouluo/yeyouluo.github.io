<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>QQ éŸ³ä¹ PB çº§ ClickHouse å®æ—¶æ•°æ®å¹³å°æ¶æ„æ¼”è¿›ä¹‹è·¯ | Youluo's Blog</title>
    <meta name="description" content="çŸ¥è¯†ï¼Œæœ¬è¯¥çº¯ç²¹çœŸå®ã€‚ ä¸åº”ä¸ºä¹±è±¡è€Œè¿·å¤±ï¼Œå› é¿è®³è€Œè—æ–ã€‚">
    <meta name="generator" content="VitePress v1.2.2">
    <link rel="preload stylesheet" href="/assets/style.CJIF6U9P.css" as="style">
    
    <script type="module" src="/assets/app.Cir5lYFr.js"></script>
    <link rel="preload" href="/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/assets/chunks/framework.BYhES31N.js">
    <link rel="modulepreload" href="/assets/chunks/theme.C2wALXkU.js">
    <link rel="modulepreload" href="/assets/big-data_ck_ck-case-qq-music.md.CnGOFr21.lean.js">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-5d98c3a5><!--[--><!--]--><!--[--><span tabindex="-1" data-v-0f60ec36></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-0f60ec36> Skip to content </a><!--]--><!----><header class="VPNav" data-v-5d98c3a5 data-v-ae24b3ad><div class="VPNavBar has-sidebar top" data-v-ae24b3ad data-v-ccf7ddec><div class="wrapper" data-v-ccf7ddec><div class="container" data-v-ccf7ddec><div class="title" data-v-ccf7ddec><div class="VPNavBarTitle has-sidebar" data-v-ccf7ddec data-v-ab179fa1><a class="title" href="/" data-v-ab179fa1><!--[--><!--]--><!--[--><img class="VPImage logo" src="/favicon.ico" alt data-v-8426fc1a><!--]--><span data-v-ab179fa1>Youluo&#39;s Blog</span><!--[--><!--]--></a></div></div><div class="content" data-v-ccf7ddec><div class="content-body" data-v-ccf7ddec><!--[--><!--]--><div class="VPNavBarSearch search" data-v-ccf7ddec><!--[--><!----><div id="local-search"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><span class="vp-icon DocSearch-Search-Icon"></span><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-ccf7ddec data-v-7f418b0f><span id="main-nav-aria-label" class="visually-hidden" data-v-7f418b0f>Main Navigation</span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/" tabindex="0" data-v-7f418b0f data-v-9c663999><!--[--><span data-v-9c663999>é¦–é¡µ</span><!--]--></a><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-7f418b0f data-v-b6c34ac9><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-b6c34ac9><span class="text" data-v-b6c34ac9><!----><span data-v-b6c34ac9>ğŸŒˆåŸºç¡€çŸ¥è¯†</span><span class="vpi-chevron-down text-icon" data-v-b6c34ac9></span></span></button><div class="menu" data-v-b6c34ac9><div class="VPMenu" data-v-b6c34ac9 data-v-e7ea1737><div class="items" data-v-e7ea1737><!--[--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-43f1e123><a class="VPLink link" href="/base/linux/linux-base.html" data-v-43f1e123><!--[-->Linuxæ“ä½œç³»ç»Ÿ<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-43f1e123><a class="VPLink link" href="/item-2.html" data-v-43f1e123><!--[-->ç½‘ç»œåŸºç¡€<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-43f1e123><a class="VPLink link" href="/item-2.html" data-v-43f1e123><!--[-->ç®—æ³•ä¸æ•°æ®ç»“æ„<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-43f1e123><a class="VPLink link" href="/item-3.html" data-v-43f1e123><!--[-->æ•°æ®åº“åŸºç¡€<!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-7f418b0f data-v-b6c34ac9><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-b6c34ac9><span class="text" data-v-b6c34ac9><!----><span data-v-b6c34ac9>â™¨ç¼–ç¨‹è¯­è¨€</span><span class="vpi-chevron-down text-icon" data-v-b6c34ac9></span></span></button><div class="menu" data-v-b6c34ac9><div class="VPMenu" data-v-b6c34ac9 data-v-e7ea1737><div class="items" data-v-e7ea1737><!--[--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-43f1e123><a class="VPLink link" href="/language/java.html" data-v-43f1e123><!--[-->Java<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-43f1e123><a class="VPLink link" href="/item-2.html" data-v-43f1e123><!--[-->Python<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-43f1e123><a class="VPLink link" href="/item-2.html" data-v-43f1e123><!--[-->Golang<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-43f1e123><a class="VPLink link" href="/item-3.html" data-v-43f1e123><!--[-->Shell<!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-7f418b0f data-v-b6c34ac9><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-b6c34ac9><span class="text" data-v-b6c34ac9><!----><span data-v-b6c34ac9>ğŸ¥¬æ¡†æ¶&å¤§æ•°æ®</span><span class="vpi-chevron-down text-icon" data-v-b6c34ac9></span></span></button><div class="menu" data-v-b6c34ac9><div class="VPMenu" data-v-b6c34ac9 data-v-e7ea1737><div class="items" data-v-e7ea1737><!--[--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-43f1e123><a class="VPLink link" href="/item-1.html" data-v-43f1e123><!--[-->Spring&amp;SpringBoot<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-43f1e123><a class="VPLink link" href="/item-1.html" data-v-43f1e123><!--[-->Nginx<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-43f1e123><a class="VPLink link" href="/big-data/ck/ck-install-cluster-with-zk.html" data-v-43f1e123><!--[-->ClickHouse<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-43f1e123><a class="VPLink link" href="/item-1.html" data-v-43f1e123><!--[-->ElasticSearch<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-43f1e123><a class="VPLink link" href="/item-1.html" data-v-43f1e123><!--[-->Flink<!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-7f418b0f data-v-b6c34ac9><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-b6c34ac9><span class="text" data-v-b6c34ac9><!----><span data-v-b6c34ac9>ğŸš€DevOps</span><span class="vpi-chevron-down text-icon" data-v-b6c34ac9></span></span></button><div class="menu" data-v-b6c34ac9><div class="VPMenu" data-v-b6c34ac9 data-v-e7ea1737><div class="items" data-v-e7ea1737><!--[--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-43f1e123><a class="VPLink link" href="/item-1.html" data-v-43f1e123><!--[-->Docker<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-43f1e123><a class="VPLink link" href="/item-1.html" data-v-43f1e123><!--[-->K8S<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-43f1e123><a class="VPLink link" href="/item-1.html" data-v-43f1e123><!--[-->Jenkins<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-43f1e123><a class="VPLink link" href="/item-1.html" data-v-43f1e123><!--[-->GitLab CI/CD<!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-7f418b0f data-v-b6c34ac9><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-b6c34ac9><span class="text" data-v-b6c34ac9><!----><span data-v-b6c34ac9>ğŸ æ¶æ„çŸ¥è¯†</span><span class="vpi-chevron-down text-icon" data-v-b6c34ac9></span></span></button><div class="menu" data-v-b6c34ac9><div class="VPMenu" data-v-b6c34ac9 data-v-e7ea1737><div class="items" data-v-e7ea1737><!--[--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-43f1e123><a class="VPLink link" href="/item-1.html" data-v-43f1e123><!--[-->è®¾è®¡æ¨¡å¼<!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/" tabindex="0" data-v-7f418b0f data-v-9c663999><!--[--><span data-v-9c663999>ğŸ›¡ç½‘ç»œå®‰å…¨</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/" tabindex="0" data-v-7f418b0f data-v-9c663999><!--[--><span data-v-9c663999>ğŸ‰äººå·¥æ™ºèƒ½</span><!--]--></a><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-7f418b0f data-v-b6c34ac9><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-b6c34ac9><span class="text" data-v-b6c34ac9><!----><span data-v-b6c34ac9>ğŸ’•å…¶ä»–</span><span class="vpi-chevron-down text-icon" data-v-b6c34ac9></span></span></button><div class="menu" data-v-b6c34ac9><div class="VPMenu" data-v-b6c34ac9 data-v-e7ea1737><div class="items" data-v-e7ea1737><!--[--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-43f1e123><a class="VPLink link" href="/others/tools.html" data-v-43f1e123><!--[-->æ•ˆç‡å·¥å…·<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-43f1e123><a class="VPLink link" href="/item-1.html" data-v-43f1e123><!--[-->èµ„æºå¯¼èˆª<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-43f1e123><a class="VPLink link" href="/item-1.html" data-v-43f1e123><!--[-->è½¯æŠ€èƒ½<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-43f1e123><a class="VPLink link" href="/others/how-to-read-a-book.html" data-v-43f1e123><!--[-->å¼€å·æœ‰ç›Š<!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/" tabindex="0" data-v-7f418b0f data-v-9c663999><!--[--><span data-v-9c663999>å…³äº</span><!--]--></a><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-ccf7ddec data-v-e6aabb21><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="Switch to dark theme" aria-checked="false" data-v-e6aabb21 data-v-d1f28634 data-v-1d5665e3><span class="check" data-v-1d5665e3><span class="icon" data-v-1d5665e3><!--[--><span class="vpi-sun sun" data-v-d1f28634></span><span class="vpi-moon moon" data-v-d1f28634></span><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-ccf7ddec data-v-0394ad82 data-v-7bc22406><!--[--><a class="VPSocialLink no-icon" href="https://github.com/yeyouluo/yeyouluo.github.io" aria-label="github" target="_blank" rel="noopener" data-v-7bc22406 data-v-eee4e7cb><span class="vpi-social-github" /></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-ccf7ddec data-v-d0bd9dde data-v-b6c34ac9><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-b6c34ac9><span class="vpi-more-horizontal icon" data-v-b6c34ac9></span></button><div class="menu" data-v-b6c34ac9><div class="VPMenu" data-v-b6c34ac9 data-v-e7ea1737><!----><!--[--><!--[--><!----><div class="group" data-v-d0bd9dde><div class="item appearance" data-v-d0bd9dde><p class="label" data-v-d0bd9dde>Appearance</p><div class="appearance-action" data-v-d0bd9dde><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="Switch to dark theme" aria-checked="false" data-v-d0bd9dde data-v-d1f28634 data-v-1d5665e3><span class="check" data-v-1d5665e3><span class="icon" data-v-1d5665e3><!--[--><span class="vpi-sun sun" data-v-d1f28634></span><span class="vpi-moon moon" data-v-d1f28634></span><!--]--></span></span></button></div></div></div><div class="group" data-v-d0bd9dde><div class="item social-links" data-v-d0bd9dde><div class="VPSocialLinks social-links-list" data-v-d0bd9dde data-v-7bc22406><!--[--><a class="VPSocialLink no-icon" href="https://github.com/yeyouluo/yeyouluo.github.io" aria-label="github" target="_blank" rel="noopener" data-v-7bc22406 data-v-eee4e7cb><span class="vpi-social-github" /></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-ccf7ddec data-v-e5dd9c1c><span class="container" data-v-e5dd9c1c><span class="top" data-v-e5dd9c1c></span><span class="middle" data-v-e5dd9c1c></span><span class="bottom" data-v-e5dd9c1c></span></span></button></div></div></div></div><div class="divider" data-v-ccf7ddec><div class="divider-line" data-v-ccf7ddec></div></div></div><!----></header><div class="VPLocalNav has-sidebar empty" data-v-5d98c3a5 data-v-a6f0e41e><div class="container" data-v-a6f0e41e><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-a6f0e41e><span class="vpi-align-left menu-icon" data-v-a6f0e41e></span><span class="menu-text" data-v-a6f0e41e>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-a6f0e41e data-v-17a5e62e><button data-v-17a5e62e>Return to top</button><!----></div></div></div><aside class="VPSidebar" data-v-5d98c3a5 data-v-575e6a36><div class="curtain" data-v-575e6a36></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-575e6a36><span class="visually-hidden" id="sidebar-aria-label" data-v-575e6a36> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="group" data-v-575e6a36><section class="VPSidebarItem level-0 has-active" data-v-575e6a36 data-v-b8d55f3b><div class="item" role="button" tabindex="0" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><h2 class="text" data-v-b8d55f3b>å¤§æ•°æ®</h2><!----></div><div class="items" data-v-b8d55f3b><!--[--><section class="VPSidebarItem level-1 collapsible has-active" data-v-b8d55f3b data-v-b8d55f3b><div class="item" role="button" tabindex="0" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><h3 class="text" data-v-b8d55f3b>â¤ClickHouse</h3><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-b8d55f3b><span class="vpi-chevron-right caret-icon" data-v-b8d55f3b></span></div></div><div class="items" data-v-b8d55f3b><!--[--><div class="VPSidebarItem level-2 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/big-data/ck/ck-install-cluster-with-zk.html" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>å®‰è£… - ClickHouseå®‰è£…(zkç‰ˆæœ¬)</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/big-data/ck/ck-install-cluster-with-keeper.html" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>å®‰è£… - ClickHouseå®‰è£…(keeperç‰ˆæœ¬)</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/big-data/ck/superset-install-and-ck-data-explore.html" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>ä½¿ç”¨ - Supersetå®‰è£…åŠæ¢ç´¢CKæ•°æ®</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/big-data/ck/ck-best-practices.html" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>ä½¿ç”¨ - ClickHouseæœ€ä½³å®è·µ</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/big-data/ck/ck-case-qq-music.html" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>å¤§å‚å®è·µ - è…¾è®¯ï¼šQQéŸ³ä¹PBçº§ClickHouseå®æ—¶æ•°æ®å¹³å°æ¶æ„æ¼”è¿›ä¹‹è·¯</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/big-data/ck/ck-case-ctrip.html" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>å¤§å‚å®è·µ - æºç¨‹ï¼šæºç¨‹ClickHouseæ—¥å¿—åˆ†æå®è·µ</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/big-data/ck/ck-case-ctrip-02.html" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>å¤§å‚å®è·µ - æºç¨‹ï¼š100äº¿+æ•°æ®é‡ï¼Œæ¯å¤©50W+æŸ¥è¯¢ï¼Œæºç¨‹é…’åº—æ•°æ®æ™ºèƒ½å¹³å°å®è·µ</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-b8d55f3b data-v-b8d55f3b><div class="item" data-v-b8d55f3b><div class="indicator" data-v-b8d55f3b></div><a class="VPLink link link" href="/big-data/ck/ck-case-bytedance.html" data-v-b8d55f3b><!--[--><p class="text" data-v-b8d55f3b>å¤§å‚å®è·µ - å­—èŠ‚ï¼šByteHouseï¼šç™¾ä¸‡çº§TPSï¼çœ‹å­—èŠ‚è·³åŠ¨å¦‚ä½•åŸºäºClickHouseè½åœ°é«˜æ€§èƒ½å®æ—¶æ•°ä»“</p><!--]--></a><!----></div><!----></div><!--]--></div></section><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-5d98c3a5 data-v-1428d186><div class="VPDoc has-sidebar has-aside" data-v-1428d186 data-v-39a288b8><!--[--><!--]--><div class="container" data-v-39a288b8><div class="aside" data-v-39a288b8><div class="aside-curtain" data-v-39a288b8></div><div class="aside-container" data-v-39a288b8><div class="aside-content" data-v-39a288b8><div class="VPDocAside" data-v-39a288b8 data-v-3f215769><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" data-v-3f215769 data-v-a5bbad30><div class="content" data-v-a5bbad30><div class="outline-marker" data-v-a5bbad30></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-a5bbad30>é¡µé¢å¯¼èˆª</div><ul class="VPDocOutlineItem root" data-v-a5bbad30 data-v-b933a997><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-3f215769></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-39a288b8><div class="content-container" data-v-39a288b8><!--[--><!--]--><main class="main" data-v-39a288b8><div style="position:relative;" class="vp-doc _big-data_ck_ck-case-qq-music" data-v-39a288b8><div><h1 id="qq-éŸ³ä¹-pb-çº§-clickhouse-å®æ—¶æ•°æ®å¹³å°æ¶æ„æ¼”è¿›ä¹‹è·¯" tabindex="-1">QQ éŸ³ä¹ PB çº§ ClickHouse å®æ—¶æ•°æ®å¹³å°æ¶æ„æ¼”è¿›ä¹‹è·¯ <a class="header-anchor" href="#qq-éŸ³ä¹-pb-çº§-clickhouse-å®æ—¶æ•°æ®å¹³å°æ¶æ„æ¼”è¿›ä¹‹è·¯" aria-label="Permalink to &quot;QQ éŸ³ä¹ PB çº§ ClickHouse å®æ—¶æ•°æ®å¹³å°æ¶æ„æ¼”è¿›ä¹‹è·¯&quot;">â€‹</a></h1><p><img src="/assets/96bf0143731f8b2f20dd774f72fb5966.BwyZu35o.png" alt="QQéŸ³ä¹PBçº§ClickHouseå®æ—¶æ•°æ®å¹³å°æ¶æ„æ¼”è¿›ä¹‹è·¯"></p><p><strong>å¯¼è¯­</strong> | OLAPï¼ˆOn-Line Analytical Processingï¼‰ï¼Œæ˜¯æ•°æ®ä»“åº“ç³»ç»Ÿçš„ä¸»è¦åº”ç”¨å½¢å¼ï¼Œå¸®åŠ©åˆ†æäººå‘˜å¤šè§’åº¦åˆ†ææ•°æ®ï¼ŒæŒ–æ˜æ•°æ®ä»·å€¼ã€‚æœ¬æ–‡åŸºäº QQ éŸ³ä¹æµ·é‡å¤§æ•°æ®å®æ—¶åˆ†æåœºæ™¯ï¼Œé€šè¿‡ QQ éŸ³ä¹ä¸è…¾è®¯äº‘ EMR äº§å“æ·±åº¦åˆä½œçš„æ¡ˆä¾‹è§£è¯»ï¼Œè¿˜åŸä¸€ä¸ªä¸ä¸€æ ·çš„å¤§æ•°æ®äº‘ç«¯è§£å†³æ–¹æ¡ˆã€‚</p><h2 id="ä¸€ã€èƒŒæ™¯ä»‹ç»" tabindex="-1">ä¸€ã€èƒŒæ™¯ä»‹ç» <a class="header-anchor" href="#ä¸€ã€èƒŒæ™¯ä»‹ç»" aria-label="Permalink to &quot;ä¸€ã€èƒŒæ™¯ä»‹ç»&quot;">â€‹</a></h2><p>QQ éŸ³ä¹æ˜¯è…¾è®¯éŸ³ä¹æ——ä¸‹ä¸€æ¬¾é¢†å…ˆçš„éŸ³ä¹æµåª’ä½“äº§å“ï¼Œå¹³å°æ‰“é€ äº†â€œå¬ã€çœ‹ã€ç©â€çš„ç«‹ä½“æ³›éŸ³ä¹å¨±ä¹ç”Ÿæ€åœˆï¼Œä¸ºç´¯è®¡æ³¨å†Œæ•°åœ¨ 8 äº¿ä»¥ä¸Šçš„ç”¨æˆ·æä¾›å¤šå…ƒåŒ–éŸ³ä¹ç”Ÿæ´»ä½“éªŒï¼Œç•…äº«å¹³å°ä¸Šè¶…è¿‡ 3000 ä¸‡é¦–æ­Œæ›²çš„æµ·é‡æ›²åº“ã€‚ä¼˜è´¨æœåŠ¡çš„èƒŒåï¼Œæ˜¯æ¯å¤©ä¸‡äº¿çº§æ–°å¢éŸ³ä¹å†…å®¹å’Œè¡Œä¸ºæ•°æ®ï¼ŒPB æ•°æ®é‡çº§çš„æ•°æ®è®¡ç®—æœåŠ¡ã€‚</p><p>æµ·é‡çš„æ•°æ®æ„å‘³ç€æ›´é«˜æ ‡å‡†çš„æ•°æ®åˆ†æä¸šåŠ¡ï¼Œå¯¹äºç¦»çº¿åˆ†æçš„æ—¶æ•ˆã€å®æ—¶ä¸è¿‘å®æ—¶çš„å³å¸­å®æ—¶äº¤äº’åˆ†æï¼Œæå‡ºäº†æ›´é«˜çš„è¦æ±‚ã€‚å¦‚ä½•é€šè¿‡ç”¨æˆ·è¡Œä¸ºä»¥åŠéŸ³ä¹å†…å®¹æ ‡ç­¾æ•°æ®ï¼Œæ·±å…¥æ´å¯Ÿç”¨æˆ·éœ€æ±‚ï¼Œæ¥ä¼˜åŒ–æ³›éŸ³ä¹å†…å®¹åˆ›ä½œåˆ†äº«ç”Ÿæ€ï¼Œä¸ºäº¿ä¸‡ç”¨æˆ·å¸¦æ¥æ›´ä¼˜è´¨çš„éŸ³ä¹ä½“éªŒï¼Ÿæ˜¯å¯¹ QQ éŸ³ä¹å¤§æ•°æ®å›¢é˜Ÿçš„å·¨å¤§æŒ‘æˆ˜ä»¥åŠæœºé‡ã€‚</p><p>è…¾è®¯äº‘å¼¹æ€§ MapReduceï¼ˆEMRï¼‰ï¼Œç»“åˆäº‘æŠ€æœ¯å’Œç¤¾åŒºå¼€æºæŠ€æœ¯ï¼Œæä¾›å®‰å…¨ã€ä½æˆæœ¬ã€é«˜å¯é ã€å¯å¼¹æ€§ä¼¸ç¼©çš„äº‘ç«¯æ³› Hadoop æœåŠ¡ã€‚EMR åŠ©åŠ›æ„å»ºä¼ä¸šçš„å¤§æ•°æ®å¹³å°æ¶æ„ï¼Œé€‚ç”¨äº HBase åœ¨çº¿ä¸šåŠ¡ï¼Œæ•°æ®ä»“åº“ï¼Œå®æ—¶æµå¼è®¡ç®—ç­‰å¤§æ•°æ®åœºæ™¯ã€‚</p><p>QQ éŸ³ä¹å¤§æ•°æ®å›¢é˜ŸåŸºäºä¸šåŠ¡éœ€æ±‚ï¼Œæ­å»ºå’Œä¼˜åŒ–åŸºäº ClickHouse çš„ OLAP å®æ—¶å¤§æ•°æ®åˆ†æå¹³å°ï¼Œå¹¶ä¸è…¾è®¯äº‘ EMR å›¢é˜Ÿæ·±å…¥åœºæ™¯åˆä½œï¼Œå…±å»ºå¤§æ•°æ®äº‘ç«¯è§£å†³æ–¹æ¡ˆã€‚ä¸‹æ–‡å°†é€šè¿‡æ¡ˆä¾‹è§£è¯»ï¼Œæ·±å…¥è§£æ QQ éŸ³ä¹å¤§æ•°æ®å›¢é˜Ÿ OLAP ç³»ç»Ÿæ¶æ„æ¼”è¿›ä¹‹è·¯ï¼Œä¸æ–­å‘æ˜éŸ³ä¹æ•°æ®èƒŒåçš„ä»·å€¼ã€‚</p><h2 id="äºŒã€å¤§æ•°æ®åˆ†æçš„æŒ‘æˆ˜" tabindex="-1">äºŒã€å¤§æ•°æ®åˆ†æçš„æŒ‘æˆ˜ <a class="header-anchor" href="#äºŒã€å¤§æ•°æ®åˆ†æçš„æŒ‘æˆ˜" aria-label="Permalink to &quot;äºŒã€å¤§æ•°æ®åˆ†æçš„æŒ‘æˆ˜&quot;">â€‹</a></h2><p>æ—©äº›å¹´åœ¨ä¼ ç»Ÿç¦»çº¿æ•°ä»“é˜¶æ®µï¼ŒQQ éŸ³ä¹ä½¿ç”¨ Hive ä½œä¸ºå¤§æ•°æ®åˆ†æçš„ä¸»è¦å·¥å…·ï¼Œå¯¹ TB è‡³ PB çº§çš„æ•°æ®è¿›è¡Œåˆ†æï¼Œä½†å­˜åœ¨ç€ä»¥ä¸‹çš„å¯æå‡ç‚¹ï¼š</p><p><img src="/assets/7d39eb0d2db19cbd29d0586df901602e.BuwRUJ5j.png" alt="img"></p><h3 id="_1-æ—¶æ•ˆæ€§ä½" tabindex="-1">1. æ—¶æ•ˆæ€§ä½ <a class="header-anchor" href="#_1-æ—¶æ•ˆæ€§ä½" aria-label="Permalink to &quot;1. æ—¶æ•ˆæ€§ä½&quot;">â€‹</a></h3><p>å¯¹äºéŸ³ä¹æœåŠ¡æ¥è¯´ï¼Œå®æ—¶ä¸‹é’»å’Œåˆ†æ PVã€UVï¼Œç”¨æˆ·åœˆå±‚ã€æ­Œæ›²çš„ç§ç±»ã€DAU ç­‰æ•°æ®ï¼Œåˆ†æç»“æœçš„ä»·å€¼å–å†³äºæ—¶æ•ˆæ€§ã€‚æ ¸å¿ƒæ—¥æŠ¥ä¸ç»Ÿè®¡æŠ¥è¡¨åœºæ™¯ä¸‹ï¼ŒåŸºäº Hive çš„ç¦»çº¿åˆ†æä»…èƒ½æ»¡è¶³ T+1 çš„æ—¶æ•ˆï¼Œå¯¹äºå®æ—¶æ—¥æŠ¥å’Œåˆ†æçš„éœ€æ±‚è¶Šæ¥è¶Šå¼ºçƒˆã€‚</p><h3 id="_2-æ˜“ç”¨æ€§ä½" tabindex="-1">2. æ˜“ç”¨æ€§ä½ <a class="header-anchor" href="#_2-æ˜“ç”¨æ€§ä½" aria-label="Permalink to &quot;2. æ˜“ç”¨æ€§ä½&quot;">â€‹</a></h3><p>åŸºäº Hive ç¦»çº¿æ•°æ®åˆ†æå¹³å°ï¼Œå¯¹äºäº§å“ã€è¿è¥ã€å¸‚åœºäººå‘˜å…·æœ‰è¾ƒé«˜çš„æŠ€æœ¯é—¨æ§›ï¼Œæ— æ³•æ»¡è¶³è‡ªåŠ©çš„å®æ—¶äº¤äº’å¼åˆ†æéœ€æ±‚ï¼›å¼€å‘åœ¨ä¸ŠæŠ¥å’Œæå–åˆ†ææ•°æ®æ—¶ï¼Œæ— æ³•å®æ—¶è·å–å’ŒéªŒè¯ç»“æœï¼ŒæŸ¥è¯¢å’Œåˆ†ææ—¥å¿—ç»å¸¸éœ€è¦å‡ ä¸ªå°æ—¶ã€‚</p><h3 id="_3-æµç¨‹æ•ˆç‡ä½" tabindex="-1">3. æµç¨‹æ•ˆç‡ä½ <a class="header-anchor" href="#_3-æµç¨‹æ•ˆç‡ä½" aria-label="Permalink to &quot;3. æµç¨‹æ•ˆç‡ä½&quot;">â€‹</a></h3><p>æ•°æ®åˆ†æéœ€æ±‚ï¼Œéœ€ç”±æ•°æ®åˆ†æå›¢é˜Ÿå®Œæˆï¼Œç»è¿‡æ’æœŸã€æ²Ÿé€šã€å»ºæ¨¡ã€åˆ†æã€å¯è§†åŒ–ç­‰æµç¨‹æ­¥éª¤ï¼Œæ‰€éœ€æ—¶é—´ä»¥å‘¨è®¡ç®—ï¼Œè½åœ°å¯èƒ½è¾¾æ•°å‘¨ï¼Œåˆ†æç»“æœä¸åŠæ—¶ï¼Œå½±å“å’Œæ‹–æ…¢äº†å†³ç­–è¿›åº¦ã€‚</p><p>ä¸ºäº†åº”å¯¹ä»¥ä¸Šé—®é¢˜ï¼Œæå‡æµç¨‹æ•ˆç‡ï¼Œæé«˜æ•°æ®åˆ†æå¤„ç†çš„æ—¶æ•ˆæ€§å’Œæ˜“ç”¨æ€§ï¼Œæ•°æ®çš„å³å¸­åˆ†æå’Œæ•°æ®å¯è§†åŒ–èƒ½åŠ›æ”¯æ’‘éœ€è¦ä¼˜åŒ–å’Œæå‡ï¼Œè®©é—®é¢˜ç§’çº§æœ‰å“åº”ï¼Œåˆ†ææ›´æ·±å…¥ï¼Œæ•°æ®åˆ†ææ›´é«˜æ•ˆã€‚</p><h2 id="ä¸‰ã€qq-éŸ³ä¹å¤§æ•°æ®æ¶æ„æŠ€æœ¯æ¼”è¿›" tabindex="-1">ä¸‰ã€QQ éŸ³ä¹å¤§æ•°æ®æ¶æ„æŠ€æœ¯æ¼”è¿› <a class="header-anchor" href="#ä¸‰ã€qq-éŸ³ä¹å¤§æ•°æ®æ¶æ„æŠ€æœ¯æ¼”è¿›" aria-label="Permalink to &quot;ä¸‰ã€QQ éŸ³ä¹å¤§æ•°æ®æ¶æ„æŠ€æœ¯æ¼”è¿›&quot;">â€‹</a></h2><p>QQ éŸ³ä¹å¤§æ•°æ®å›¢é˜ŸåŸºäº ClickHouse+Superset ç­‰åŸºç¡€ç»„ä»¶ï¼Œç»“åˆè…¾è®¯äº‘ EMR äº§å“çš„äº‘ç«¯èƒ½åŠ›ï¼Œæ­å»ºèµ·é«˜å¯ç”¨ã€ä½å»¶è¿Ÿçš„å®æ—¶ OLAP åˆ†æè®¡ç®—å¯è§†åŒ–å¹³å°ã€‚</p><p>é›†ç¾¤æ—¥å‡æ–°å¢ä¸‡äº¿æ•°æ®ï¼Œè§„æ¨¡è¾¾åˆ°ä¸Šä¸‡æ ¸ CPUï¼ŒPB çº§æ•°æ®é‡ã€‚æ•´ä½“å®ç°ç§’çº§çš„å®æ—¶æ•°æ®åˆ†æã€æå–ã€ä¸‹é’»ã€ç›‘æ§æ•°æ®åŸºç¡€æœåŠ¡ï¼Œå¤§å¤§æé«˜äº†å¤§æ•°æ®åˆ†æä¸å¤„ç†çš„å·¥ä½œæ•ˆç‡ã€‚</p><p><img src="/assets/bf8bbfaf8b1b4e9bc50ffb4d8f7f733b.DcefGLFM.png" alt="img"></p><p>é€šè¿‡ OLAP åˆ†æå¹³å°ï¼Œæå¤§é™ä½äº†æ¢ç´¢æ•°æ®çš„é—¨æ§›ï¼Œåšåˆ°å…¨æ°‘ BIï¼Œå…¨æ°‘æ•°æ®æœåŠ¡ï¼Œå®ç°äº†å®æ—¶ PVã€UVã€è¥æ”¶ã€ç”¨æˆ·åœˆå±‚ã€çƒ­é—¨æ­Œæ›²ç­‰å„ç±»æŒ‡æ ‡é«˜æ•ˆåˆ†æï¼Œå…¨é“¾è·¯æ•°æ®ç§’çº§åˆ†æå®šä½ï¼ŒåŠ å¼ºæ•°æ®ä¸ŠæŠ¥è§„èŒƒï¼Œå½¢æˆä¸€ä¸ªè‰¯å¥½çš„æ­£å¾ªç¯ã€‚</p><h3 id="_1-clickhouse-ä»‹ç»" tabindex="-1">1. ClickHouse ä»‹ç» <a class="header-anchor" href="#_1-clickhouse-ä»‹ç»" aria-label="Permalink to &quot;1. ClickHouse ä»‹ç»&quot;">â€‹</a></h3><p>ClickHouse ç”±ä¿„ç½—æ–¯ç¬¬ä¸€å¤§æœç´¢å¼•æ“ Yandex å‘å¸ƒï¼Œæ˜¯ä¸€ä¸ªåŸºäºåˆ—çš„ï¼Œé¢å‘ OLAP çš„å¼€æºè½»é‡çº§æ•°æ®åº“ç®¡ç†ç³»ç»Ÿï¼Œèƒ½å¤Ÿä½¿ç”¨ SQL æŸ¥è¯¢å®æ—¶ç”Ÿæˆåˆ†ææ•°æ®æŠ¥å‘Šï¼Œé€‚åˆ PB æ•°æ®é‡çº§çš„å®æ—¶å¤§æ•°æ®åˆ†æã€‚</p><p><img src="/assets/d850f407d6b534fdbb2b9993c14c6088.CMCAeQlM.png" alt="img"></p><p>åœ¨åœºæ™¯é€‚ç”¨å’Œæ€§èƒ½æ–¹é¢ï¼ŒClickHouse åœ¨ OLAP çš„ä¼—å¤šç»„ä»¶ä¸­æœ‰è¾ƒä¸ºçªå‡ºçš„ä¼˜åŠ¿ã€‚</p><h4 id="_1-åœºæ™¯é€‚ç”¨æ–¹é¢" tabindex="-1">ï¼ˆ1ï¼‰åœºæ™¯é€‚ç”¨æ–¹é¢ <a class="header-anchor" href="#_1-åœºæ™¯é€‚ç”¨æ–¹é¢" aria-label="Permalink to &quot;ï¼ˆ1ï¼‰åœºæ™¯é€‚ç”¨æ–¹é¢&quot;">â€‹</a></h4><p>ClickHouse ä¸»è¦ä¸º OLAP åº”ç”¨åœºæ™¯çš„æ•°æ®ä»“åº“ï¼Œä»¥åº“è¡¨çš„æ–¹å¼å­˜å‚¨æ•°æ®ï¼Œå¯ç®€å•ã€é«˜æ•ˆåœ°åˆ†ææ•°æ®ï¼Œç»“åˆ Superset ä»¥å¯è§†åŒ–çš„æ–¹å¼è¾“å‡ºåˆ†ææ•°æ®å›¾è¡¨ã€‚</p><h4 id="_2-æ€§èƒ½æ–¹é¢" tabindex="-1">ï¼ˆ2ï¼‰æ€§èƒ½æ–¹é¢ <a class="header-anchor" href="#_2-æ€§èƒ½æ–¹é¢" aria-label="Permalink to &quot;ï¼ˆ2ï¼‰æ€§èƒ½æ–¹é¢&quot;">â€‹</a></h4><p>ClickHouse æœ‰ç€å“è¶Šçš„å®æ—¶åˆ†æèƒ½åŠ›ã€‚ä»¥æ€§èƒ½è¡¨ç°çªå‡ºçš„å•è¡¨ä¸ºä¾‹ï¼Œä½¿ç”¨å•è¡¨ 100Gï¼Œ3 äº¿è¡Œæ•°æ®ï¼Œé›†ç¾¤è§„æ¨¡ 8 æ ¸ 20G*3ï¼Œç®€å•çš„æŸ¥è¯¢åœ¨æ¯«ç§’çº§å®Œæˆï¼Œå¤æ‚æŸ¥è¯¢ç§’çº§ï¼ŒæŸ¥è¯¢é€Ÿåº¦è¾ƒ Prestoã€SparkSQL æå‡ 3-6 å€ï¼Œè¾ƒ Hive æå‡ 30-100 å€ã€‚</p><p>å¯¹æ¯” Prestoã€Impalaã€Hawqã€Greenplumï¼ŒClickHouse ä»¥å…¶åˆ†å¸ƒå¼è®¡ç®—ã€å¤šæ ¸è®¡ç®—ã€å‘é‡åŒ–æ‰§è¡Œä¸ SIMDã€ä»£ç ç”ŸæˆæŠ€æœ¯ä»¥åŠåˆ—å¼å­˜å‚¨ç­‰ç‰¹æ€§ï¼Œå®ç°äº†è¶…é«˜é€Ÿçš„æŸ¥è¯¢ï¼Œå‡¸æ˜¾äº†æ›´ä¼˜è¶Šçš„æ€§èƒ½ã€‚</p><p><img src="/assets/d5b0e8f9cfd330f29d0f6570cd00c42b.C8-Y15KK.png" alt="img"></p><h3 id="_2-clickhouse-æ¶æ„ç³»ç»ŸæŠ€æœ¯æ”»å…‹ç‚¹" tabindex="-1">2. ClickHouse æ¶æ„ç³»ç»ŸæŠ€æœ¯æ”»å…‹ç‚¹ <a class="header-anchor" href="#_2-clickhouse-æ¶æ„ç³»ç»ŸæŠ€æœ¯æ”»å…‹ç‚¹" aria-label="Permalink to &quot;2. ClickHouse æ¶æ„ç³»ç»ŸæŠ€æœ¯æ”»å…‹ç‚¹&quot;">â€‹</a></h3><p>é¢å¯¹ä¸Šä¸‡æ ¸é›†ç¾¤è§„æ¨¡ã€PB çº§çš„æ•°æ®é‡ï¼Œç»è¿‡ QQ éŸ³ä¹å¤§æ•°æ®å›¢é˜Ÿå’Œè…¾è®¯äº‘ EMR åŒæ–¹æŠ€æœ¯å›¢é˜Ÿæ— æ•°æ¬¡æŠ€æœ¯æ¶æ„å‡çº§ä¼˜åŒ–ï¼Œæ€§èƒ½ä¼˜åŒ–ï¼Œé€æ­¥å½¢æˆé«˜å¯ç”¨ã€é«˜æ€§èƒ½ã€é«˜å®‰å…¨çš„ OLAP è®¡ç®—åˆ†æå¹³å°ã€‚</p><h4 id="_1-åŸºäº-ssd-ç›˜çš„-zookeeper" tabindex="-1">ï¼ˆ1ï¼‰åŸºäº SSD ç›˜çš„ ZooKeeper <a class="header-anchor" href="#_1-åŸºäº-ssd-ç›˜çš„-zookeeper" aria-label="Permalink to &quot;ï¼ˆ1ï¼‰åŸºäº SSD ç›˜çš„ ZooKeeper&quot;">â€‹</a></h4><p>ClickHouse ä¾èµ–äº ZooKeeper å®ç°åˆ†å¸ƒå¼ç³»ç»Ÿçš„åè°ƒå·¥ä½œï¼Œåœ¨ ClickHouse å¹¶å‘å†™å…¥é‡è¾ƒå¤§æ—¶ï¼ŒZooKeeper å¯¹å…ƒæ•°æ®å­˜å‚¨å¤„ç†ä¸åŠæ—¶ï¼Œä¼šå¯¼è‡´ ClickHouse å‰¯æœ¬é—´åŒæ­¥å‡ºç°å»¶è¿Ÿï¼Œé™ä½é›†ç¾¤æ•´ä½“æ€§èƒ½ã€‚</p><p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š é‡‡ç”¨ SSD ç›˜çš„ ZooKeeper å¤§å¹…æé«˜ IO çš„æ€§èƒ½ï¼Œåœ¨è¡¨ä¸ªæ•°å°äº 100ï¼Œæ•°æ®é‡çº§åœ¨ TB çº§åˆ«æ—¶ï¼Œä¹Ÿå¯é‡‡ç”¨ HDD ç›˜ï¼Œå…¶ä»–æƒ…å†µéƒ½å»ºè®®é‡‡ç”¨ SSD ç›˜ã€‚</p><p><img src="/assets/0d94e9987996f0680fb342319e23d9b4.BMXFSZ0u.png" alt="img"></p><h4 id="_2-æ•°æ®å†™å…¥ä¸€è‡´æ€§" tabindex="-1">ï¼ˆ2ï¼‰æ•°æ®å†™å…¥ä¸€è‡´æ€§ <a class="header-anchor" href="#_2-æ•°æ®å†™å…¥ä¸€è‡´æ€§" aria-label="Permalink to &quot;ï¼ˆ2ï¼‰æ•°æ®å†™å…¥ä¸€è‡´æ€§&quot;">â€‹</a></h4><p>æ•°æ®åœ¨å†™å…¥ ClickHouse å¤±è´¥é‡è¯•åå†…å®¹å‡ºç°é‡å¤ï¼Œå¯¼è‡´äº†ä¸åŒç³»ç»Ÿï¼Œå¦‚ Hive ç¦»çº¿æ•°ä»“ä¸­åˆ†æç»“æœï¼Œä¸ ClickHouse é›†ç¾¤ä¸­è¿ç®—ç»“æœä¸ä¸€è‡´ã€‚</p><p><img src="/assets/a4742a9e51d06de49e77ced8162abc53.CCMmv-oA.png" alt="img"></p><p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š åŸºäºç»Ÿä¸€å…¨å±€çš„è´Ÿè½½å‡è¡¡è°ƒåº¦ç­–ç•¥ï¼Œå®Œæˆæ•°æ®å¤±è´¥åä»ç„¶å¯å†™å…¥åŒä¸€ Shardï¼Œå®ç°æ•°æ®å¹‚ç­‰å†™å…¥ï¼Œä»è€Œä¿è¯åœ¨ ClickHouse ä¸­æ•°æ®ä¸€è‡´æ€§ã€‚</p><h4 id="_3-å®æ—¶ç¦»çº¿æ•°æ®å†™å…¥" tabindex="-1">ï¼ˆ3ï¼‰å®æ—¶ç¦»çº¿æ•°æ®å†™å…¥ <a class="header-anchor" href="#_3-å®æ—¶ç¦»çº¿æ•°æ®å†™å…¥" aria-label="Permalink to &quot;ï¼ˆ3ï¼‰å®æ—¶ç¦»çº¿æ•°æ®å†™å…¥&quot;">â€‹</a></h4><p>ClickHouse æ•°æ®ä¸»è¦æ¥è‡ªå®æ—¶æµæ°´ä¸ŠæŠ¥æ•°æ®å’Œç¦»çº¿æ•°æ®ä¸­é—´åˆ†æç»“æœæ•°æ®ï¼Œå¦‚ä½•åœ¨æ¶æ„ä¸­å®Œæˆä¸Šä¸‡äº¿åŸºæœ¬æ•°æ®çš„é«˜æ•ˆå®‰å…¨å†™å…¥ï¼Œæ˜¯ä¸€ä¸ªå·¨å¤§çš„æŒ‘æˆ˜ã€‚</p><p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š åŸºäº Tube æ¶ˆæ¯é˜Ÿåˆ—ï¼Œå®Œæˆç»Ÿä¸€æ•°æ®çš„åˆ†å‘æ¶ˆè´¹ï¼ŒåŸºäºä¸Šè¿°çš„ä¸€è‡´æ€§ç­–ç•¥å®ç°æ•°æ®å¹‚åŒæ­¥ï¼Œåšåˆ°å®æ—¶å’Œç¦»çº¿æ•°æ®çš„é«˜æ•ˆå†™å…¥ã€‚</p><p><img src="/assets/48f924ff3e8e982399dd6012ab6d31e8.ByPUJWcH.png" alt="img"></p><h4 id="_4-è¡¨åˆ†åŒºæ•°ä¼˜åŒ–" tabindex="-1">ï¼ˆ4ï¼‰è¡¨åˆ†åŒºæ•°ä¼˜åŒ– <a class="header-anchor" href="#_4-è¡¨åˆ†åŒºæ•°ä¼˜åŒ–" aria-label="Permalink to &quot;ï¼ˆ4ï¼‰è¡¨åˆ†åŒºæ•°ä¼˜åŒ–&quot;">â€‹</a></h4><p>éƒ¨åˆ†ç¦»çº¿æ•°æ®ä»“åº“é‡‡ç”¨æŒ‰å°æ—¶è½åœ°åˆ†åŒºï¼Œå¦‚æœé‡‡ç”¨åŸå§‹çš„å°æ—¶åˆ†åŒºæ›´æ–°åŒæ­¥ï¼Œä¼šé€ æˆ ClickHouse ä¸­ Select æŸ¥è¯¢æ‰“å¼€å¤§é‡æ–‡ä»¶åŠæ–‡ä»¶æè¿°ç¬¦ï¼Œè¿›è€Œå¯¼è‡´æ€§èƒ½ä½ä¸‹ã€‚</p><p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š ClickHouse å®˜æ–¹ä¹Ÿå»ºè®®ï¼Œè¡¨åˆ†åŒºçš„æ•°é‡å»ºè®®ä¸è¶…è¿‡ 10000ï¼Œä¸Šè¿°çš„æ•°æ®åŒæ­¥æ¶æ„å®Œæˆå°æ—¶åˆ†åŒºè½¬æ¢ä¸ºå¤©åˆ†åŒºï¼ŒåŒæ—¶ç¨‹åºä¸­å®Œæˆæ•°æ®å¹‚ç­‰æ¶ˆè´¹ã€‚</p><p><img src="/assets/0b09964050a03dca5f4093b3251a7bd3.Bk1G4IZJ.png" alt="img"></p><h4 id="_5-è¯»-å†™åˆ†ç¦»æ¶æ„" tabindex="-1">ï¼ˆ5ï¼‰è¯»/å†™åˆ†ç¦»æ¶æ„ <a class="header-anchor" href="#_5-è¯»-å†™åˆ†ç¦»æ¶æ„" aria-label="Permalink to &quot;ï¼ˆ5ï¼‰è¯»/å†™åˆ†ç¦»æ¶æ„&quot;">â€‹</a></h4><p>é¢‘ç¹çš„å†™åŠ¨ä½œï¼Œä¼šæ¶ˆè€—å¤§é‡ CPU/å†…å­˜/ç½‘å¡èµ„æºï¼Œåå°åˆå¹¶çº¿ç¨‹å¾—ä¸åˆ°æœ‰æ•ˆèµ„æºï¼Œé™ä½ Merge Parts é€Ÿåº¦ï¼ŒMergeTree æ„å»ºä¸åŠæ—¶ï¼Œè¿›è€Œå½±å“è¯»å–æ•ˆç‡ï¼Œå¯¼è‡´é›†ç¾¤æ€§èƒ½é™ä½ã€‚</p><p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š ClickHouse ä¸´æ—¶èŠ‚ç‚¹é¢„å…ˆå®Œæˆæ•°æ®åˆ†åŒºæ–‡ä»¶æ„å»ºï¼ŒåŠ¨æ€åŠ è½½åˆ°çº¿ä¸ŠæœåŠ¡é›†ç¾¤ï¼Œç¼“è§£ ClickHouse åœ¨å¤§é‡å¹¶å‘å†™åœºæ™¯ä¸‹çš„æ€§èƒ½é—®é¢˜ï¼Œå®ç°é«˜æ•ˆçš„è¯»/å†™åˆ†ç¦»æ¶æ„ï¼Œå…·ä½“æ­¥éª¤å’Œæ¶æ„å¦‚ä¸‹ï¼š</p><p>aï¼‰åˆ©ç”¨ K8S çš„å¼¹æ€§æ„å»ºéƒ¨ç½²èƒ½åŠ›ï¼Œæ„å»ºä¸´æ—¶ ClickHouse èŠ‚ç‚¹ï¼Œæ•°æ®å†™å…¥è¯¥èŠ‚ç‚¹å®Œæˆæ•°æ®çš„ Mergeã€æ’åºç­‰æ„å»ºå·¥ä½œï¼›</p><p>bï¼‰æ„å»ºå®Œæˆæ•°æ®æŒ‰ MergeTree ç»“æ„å…³è”è‡³æ­£å¼ä¸šåŠ¡é›†ç¾¤ã€‚</p><p>å½“ç„¶å¯¹ä¸€äº›å°æ•°æ®é‡çš„åŒæ­¥å†™å…¥ï¼Œå¯é‡‡ç”¨ 10000 æ¡ä»¥ä¸Šæ‰¹é‡çš„å†™å…¥ã€‚</p><p><img src="/assets/e4530c9a604f5e88a5a7ce110fdc2280.MhXBd_21.png" alt="img"></p><h4 id="_6-è·¨è¡¨æŸ¥è¯¢æœ¬åœ°åŒ–" tabindex="-1">ï¼ˆ6ï¼‰è·¨è¡¨æŸ¥è¯¢æœ¬åœ°åŒ– <a class="header-anchor" href="#_6-è·¨è¡¨æŸ¥è¯¢æœ¬åœ°åŒ–" aria-label="Permalink to &quot;ï¼ˆ6ï¼‰è·¨è¡¨æŸ¥è¯¢æœ¬åœ°åŒ–&quot;">â€‹</a></h4><p>åœ¨ ClickHouse é›†ç¾¤ä¸­è·¨è¡¨è¿›è¡Œ Select æŸ¥è¯¢æ—¶ï¼Œé‡‡ç”¨ Global IN/Global Join è¯­å¥æ€§èƒ½è¾ƒä¸ºä½ä¸‹ã€‚åˆ†æåŸå› ï¼Œæ˜¯åœ¨æ­¤ç±»æ“ä½œä¼šç”Ÿæˆä¸´æ—¶è¡¨ï¼Œå¹¶è·¨è®¾å¤‡åŒæ­¥è¯¥è¡¨ï¼Œå¯¼è‡´æŸ¥è¯¢é€Ÿåº¦æ…¢ã€‚</p><p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š é‡‡ç”¨ä¸€è‡´æ€§ hashï¼Œå°†ç›¸åŒä¸»é”®æ•°æ®å†™å…¥åŒä¸€ä¸ªæ•°æ®åˆ†ç‰‡ï¼Œåœ¨æœ¬åœ° local è¡¨å®Œæˆè·¨è¡¨è”åˆæŸ¥è¯¢ï¼Œæ•°æ®å‡æ¥è‡ªäºæœ¬åœ°å­˜å‚¨ï¼Œä»è€Œæé«˜æŸ¥è¯¢é€Ÿåº¦ã€‚</p><p>è¿™ç§ä¼˜åŒ–æ–¹æ¡ˆä¹Ÿæœ‰ä¸€å®šçš„æ½œåœ¨é—®é¢˜ï¼Œç›®å‰ ClickHouse å°šä¸æä¾›æ•°æ®çš„ Reshard èƒ½åŠ›ï¼Œå½“ Shard æ‰€å­˜å‚¨ä¸»é”®æ•°æ®é‡æŒç»­å¢åŠ ï¼Œè¾¾åˆ°ç£ç›˜å®¹é‡ä¸Šé™éœ€è¦åˆ†æ‹†æ—¶ï¼Œç›®å‰åªèƒ½æ ¹æ®åŸå§‹æ•°æ®å†æ¬¡é‡å»º CK é›†ç¾¤ï¼Œæœ‰è¾ƒé«˜çš„æˆæœ¬ã€‚</p><p><img src="/assets/c627c3dfb017f43d1f6be865148bf3ef.CphTq7UM.png" alt="img"></p><h3 id="_3-åŸºäº-superset-çš„è‡ªåŠ©æ•°æ®åˆ†æå¯è§†åŒ–å¹³å°" tabindex="-1">3. åŸºäº Superset çš„è‡ªåŠ©æ•°æ®åˆ†æå¯è§†åŒ–å¹³å° <a class="header-anchor" href="#_3-åŸºäº-superset-çš„è‡ªåŠ©æ•°æ®åˆ†æå¯è§†åŒ–å¹³å°" aria-label="Permalink to &quot;3. åŸºäº Superset çš„è‡ªåŠ©æ•°æ®åˆ†æå¯è§†åŒ–å¹³å°&quot;">â€‹</a></h3><p>Apache Superset(å­µåŒ–)æ˜¯ä¸€ä¸ªç°ä»£çš„ã€ä¼ä¸šçº§çš„å•†ä¸šæ™ºèƒ½ Web åº”ç”¨ç¨‹åºï¼Œä¸ºä¸šåŠ¡æä¾›å¤„ç† PB çº§æ•°æ®çš„é«˜æ€§èƒ½çš„ OLAP åœ¨çº¿æ•°æ®åˆ†ææœåŠ¡ï¼Œæä¾›ä¸°å¯Œçš„æ•°æ®å¯è§†åŒ–é›†ï¼Œæ”¯æŒåŒ…æ‹¬ ClickHouseã€Sparkã€Hive ç­‰å¤šä¸ªç»„ä»¶çš„æ¥å£ã€‚</p><p>QQ éŸ³ä¹å¤§æ•°æ®å›¢é˜Ÿç»“åˆè‡ªèº«ä¸šåŠ¡ç‰¹ç‚¹ä¸°å¯Œå®Œå–„åŠŸèƒ½ï¼Œç»“åˆè…¾è®¯äº‘ EMR äº‘ç«¯å¼¹æ€§èƒ½åŠ›ï¼Œæ·±å…¥å‚ä¸ Superset å¼€æºå…±å»ºï¼š</p><p><a href="https://github.com/apache/incubator-superset" target="_blank" rel="noreferrer">https://github.com/apache/incubator-superset</a></p><p><img src="/assets/951ad81459a4f95aef0a8484b16bacd7.Ds4TD9e2.png" alt="img"></p><p>ClickHouse åœ¨å®æ—¶åˆ†æé¢†åŸŸæ‹¥æœ‰è¯¸å¤šä¼˜åŠ¿ï¼Œåœ¨ OLAP åˆ†æåœºæ™¯ä¸‹ï¼Œæ­é…åœ¨æ•°æ®å¯è§†åŒ–é¢†åŸŸè¡¨ç°æŠ¢çœ¼çš„ Superset ç»„ä»¶ï¼Œåœ¨å¯¹ QQ éŸ³ä¹ä¸šåŠ¡æŒ‡æ ‡æ¦‚è§ˆä»¥åŠäºŒç»´å˜é‡åˆ†æä¸­ï¼Œæä¾›ä¸°å¯Œçš„æ•°æ®å¯è§†åŒ–é›†ä»¥ä¾›æ•°æ®åˆ†æå¤„ç†ã€‚</p><p>å½“å‰ Superset ä¸Šä¸‡ä¸ªå›¾è¡¨ä¸­ï¼Œè¶… 60%ç”±äº§å“ã€ç ”å‘ã€è¿è¥ã€ç ”ç©¶å‘˜ã€è´¢åŠ¡ç­‰éæ•°æ®äººå‘˜åˆ›å»ºï¼Œåšåˆ°å…¨æ°‘æ•°æ®åˆ†æï¼Œæ•°æ®å¹³æ°‘åŒ–ã€‚</p><p><img src="/assets/cff7794f85fdbd0886229a3e16ddd3aa.B3xpllwz.png" alt="img"></p><h2 id="å››ã€qq-éŸ³ä¹ä¸è…¾è®¯äº‘-emr-å…±å»ºäº‘ç«¯-olap" tabindex="-1">å››ã€QQ éŸ³ä¹ä¸è…¾è®¯äº‘ EMR å…±å»ºäº‘ç«¯ OLAP <a class="header-anchor" href="#å››ã€qq-éŸ³ä¹ä¸è…¾è®¯äº‘-emr-å…±å»ºäº‘ç«¯-olap" aria-label="Permalink to &quot;å››ã€QQ éŸ³ä¹ä¸è…¾è®¯äº‘ EMR å…±å»ºäº‘ç«¯ OLAP&quot;">â€‹</a></h2><p>åœ¨å³å¸­åˆ†æä»¥åŠæ•°æ®å¯è§†åŒ–ç­‰æ–¹é¢ï¼Œå¼€æºç¤¾åŒºç‰ˆæœ¬ï¼Œæœ‰ç€ç”Ÿæ€æ”¯æŒä¸°å¯Œã€å¼€æºä¿è¯ç¨³å®šæ€§ã€è½¯ä»¶å®‰å…¨æ€§ç­‰è¯¸å¤šä¼˜åŠ¿ã€‚ä½†åŒæ—¶ï¼Œå¼€æºç‰ˆæœ¬ä¹Ÿå­˜åœ¨ç€æŠ€æœ¯å¤æ‚åº¦é«˜ã€å‘¨æœŸé•¿ã€ç»„ä»¶è¿ç»´å¤æ‚ã€ç¼ºå°‘å®é™…å•†ä¸šåŒ–åº”ç”¨çš„ç»éªŒç§¯ç´¯ç­‰ç¼ºç‚¹å’Œä¸è¶³ã€‚</p><p>è…¾è®¯äº‘ EMR æ”¯æŒå¼€æºç¤¾åŒºç‰ˆæœ¬ OLAPï¼Œæä¾›æˆç†Ÿæ•°æ®èƒ½åŠ›ã€‚å¼€ç®±å³ç”¨ ClickHouse+Superset ç»„åˆæ–¹æ¡ˆï¼Œä½¿ç”¨ç¤¾åŒºçš„æœ€æ–°ç¨³å®šç‰ˆæœ¬ï¼ŒåŒæ—¶ç®€åŒ–äº†ç¹æ‚çš„é…ç½®å’Œè¿ç»´æ“ä½œï¼Œä¿éšœé›†ç¾¤é«˜å¯ç”¨ä¸æ•°æ®å®‰å…¨ã€‚</p><p><img src="/assets/04b7c07d19bb0b0d27c5587fb289187c.7aVuHedx.png" alt="img"></p><p>ç›¸æ¯”ç›´æ¥ä½¿ç”¨ç¤¾åŒºå¼€æºç»„ä»¶ï¼Œäº§å“åŒ–çš„ ClickHouse+Superset æœ‰ç€è¯¸å¤šçš„ä¼˜åŠ¿ï¼š</p><ul><li>å¿«é€Ÿæ„å»ºï¼Œ10 åˆ†é’Ÿåˆ›å»ºä¸Šç™¾èŠ‚ç‚¹çš„å¤§æ•°æ®é›†ç¾¤ï¼Œé¿å…å¤æ‚çš„é…ç½®ã€‚</li><li>å¼¹æ€§ä¼¸ç¼©ï¼Œ10 åˆ†é’Ÿè¿›è¡Œæ¨ªå‘æ‰©å±•ã€‚</li><li>è‡ªåŠ¨åŒ–åŸºç¡€è¿ç»´è®¾æ–½ï¼Œç™¾ä½™ç›‘æ§æŒ‡æ ‡è¦†ç›–ï¼Œå¼‚å¸¸äº‹ä»¶ç§’çº§è§¦è¾¾ã€‚</li><li>ä¸“ä¸šäº‘å”®åå›¢é˜Ÿ 7*24 å°æ—¶æ”¯æŒï¼Œæé«˜æŠ€æœ¯æŠ—é£é™©èƒ½åŠ›ã€‚</li></ul><p>è…¾è®¯äº‘ EMR å•†ä¸šåŒ–äº§å“æ—¢ä¿ç•™äº†å¼€æºç¤¾åŒºç»„ä»¶çš„ä¼˜åŠ¿ï¼Œåˆå¼¥è¡¥äº†å­˜åœ¨çš„ä¸è¶³ï¼Œæ˜¯å•†ä¸šåŒ–åº”ç”¨çš„è¶‹åŠ¿ä¹‹é€‰ã€‚</p><p>ç›®å‰ï¼ŒQQ éŸ³ä¹ä¸šåŠ¡åœ¨è‡ªå»ºæ¶æ„çš„åŸºç¡€ä¸Šï¼Œé…åˆè…¾è®¯äº‘ EMR äº§å“å¼¹æ€§èƒ½åŠ›ã€è‡ªåŠ¨åŒ–ç®¡ç†ï¼Œä»¥åŠä¸šåŠ¡å•†ä¸šåŒ–çš„æŒç»­æ”¯æŒï¼Œå¯¹ PB çº§æ•°æ®è¿›è¡Œå®æ—¶ OLAP åˆ†æï¼ŒæŸ¥è¯¢æ€§èƒ½ä¼˜å¼‚ï¼Œå¹¿æ³›åº”ç”¨åœ¨å®æ—¶åˆ†æä¸æŸ¥è¯¢çš„ä¸šåŠ¡åœºæ™¯ï¼Œç®¡ç†æ›´è½»æ¾ï¼Œæ›´ä¸“æ³¨ä¸šåŠ¡ã€‚</p><p>QQ éŸ³ä¹ä¹Ÿä¸ EMR å…¶å®ƒç»„ä»¶ï¼Œä»¥åŠå¤§æ•°æ®çŸ©é˜µè¿›è¡Œæ›´å¤šåˆä½œï¼Œç»“åˆå¼€æºä¸æ·±åº¦äºŒæ¬¡å¼€å‘ï¼Œä»¥æ··åˆæ¶æ„çš„æ¨¡å¼ï¼Œè´´åˆä¸šåŠ¡åœºæ™¯ï¼Œå…±åŒæ‰“é€ å¤§æ•°æ®ç”Ÿæ€ã€‚åœ¨æ¨èåœºæ™¯ä¸‹ï¼Œ QQ éŸ³ä¹çµæ´»åœ°é€‰ç”¨è…¾è®¯ EMR äº§å“ä¸­çš„ HBase ç»„ä»¶é›†ç¾¤ï¼Œä½¿ç”¨å¤šä¸ªç»„ä»¶åä½œï¼Œç”¨äºæ”¯æŒæ ‡ç­¾å­˜å‚¨çš„é¢‘ç¹æ›´æ–°ä¸è¯»å–ï¼Œæ»¡è¶³ä¸åŒå¤§æ•°æ®ä¸šåŠ¡åœºæ™¯çš„éœ€æ±‚ã€‚</p><h2 id="ç»“è¯­" tabindex="-1">ç»“è¯­ <a class="header-anchor" href="#ç»“è¯­" aria-label="Permalink to &quot;ç»“è¯­&quot;">â€‹</a></h2><p>äº‘ç«¯å¤§æ•°æ®åŸºç¡€è®¾æ–½äº§å“ä»¥å…¶æŠ€æœ¯å¼€æ”¾æ€§ã€å…¨é“¾è·¯è¦†ç›–ã€çµæ´»æ€§è·å¾—äº†äº’è”ç½‘ä¼ä¸šæ•°æ® IT å›¢é˜Ÿçš„ä¸€è‡´è®¤å¯ï¼Œè¶Šæ¥è¶Šå¤šçš„ä¼ä¸šä¹Ÿé€æ­¥æ„è¯†åˆ°äº‘å‚å•†é›„åšæŠ€æœ¯ä¿éšœæ‰€å¸¦æ¥çš„éšæ€§ä»·å€¼è®¤åŒã€‚å€ŸåŠ©äºäº‘ç«¯å¤§æ•°æ®åŸºç¡€è®¾æ–½è¿›è¡Œä»¥æ•°æ®é©±åŠ¨çš„ä¸šåŠ¡åˆ›æ–°ã€è¿è¥åˆ›æ–°å·²æˆä¸ºæ–°ä¸€ä»£äº’è”ç½‘ä¼ä¸šçš„ä¸šç•Œå…±è¯†å’Œä¸»æµè¶‹åŠ¿ã€‚</p><p><img src="/assets/e50d13c3bf588ea4dd8176e9bd3fa0c5.DVTIsAxa.png" alt="img"></p><p>QQ éŸ³ä¹å¤§æ•°æ®å›¢é˜Ÿä¸è…¾è®¯äº‘ EMR äº§å“æ·±å…¥æ¢ç´¢ä¸šåŠ¡åˆä½œï¼Œä»å¤§æ•°æ®åŸºç¡€è®¾æ–½ã€å…¨é“¾è·¯æ•°æ®å·¥å…·é“¾ã€é¢†åŸŸæ•°æ®ä»·å€¼åº”ç”¨åœ¨å†…çš„å„ä¸ªç¯èŠ‚ï¼Œäº’åˆ©å…±èµ¢ï¼Œé‡Šæ”¾å¤šå…ƒæ•°æ®ä»·å€¼ã€‚è…¾è®¯äº‘ EMR å°†æŒç»­æ‰“ç£¨ ClickHouse+Supersetï¼Œè‡´åŠ›äºä¸ºæ›´å¤šè¡Œä¸šå’Œä¸šåŠ¡åœºæ™¯æä¾›äº‘ç«¯æ•°æ®èƒ½åŠ›ã€‚</p><p><strong>åŸæ–‡é“¾æ¥</strong>ï¼š</p><p><a href="https://mp.weixin.qq.com/s/_pXPDbhqC1B1HQWQQEfAGw" target="_blank" rel="noreferrer">https://mp.weixin.qq.com/s/_pXPDbhqC1B1HQWQQEfAGw</a></p></div></div></main><footer class="VPDocFooter" data-v-39a288b8 data-v-d4a0bba5><!--[--><!--]--><!----><nav class="prev-next" aria-labelledby="doc-footer-aria-label" data-v-d4a0bba5><span class="visually-hidden" id="doc-footer-aria-label" data-v-d4a0bba5>Pager</span><div class="pager" data-v-d4a0bba5><a class="VPLink link pager-link prev" href="/big-data/ck/ck-best-practices.html" data-v-d4a0bba5><!--[--><span class="desc" data-v-d4a0bba5>ä¸Šä¸€é¡µ</span><span class="title" data-v-d4a0bba5>ä½¿ç”¨ - ClickHouseæœ€ä½³å®è·µ</span><!--]--></a></div><div class="pager" data-v-d4a0bba5><a class="VPLink link pager-link next" href="/big-data/ck/ck-case-ctrip.html" data-v-d4a0bba5><!--[--><span class="desc" data-v-d4a0bba5>ä¸‹ä¸€é¡µ</span><span class="title" data-v-d4a0bba5>å¤§å‚å®è·µ - æºç¨‹ï¼šæºç¨‹ClickHouseæ—¥å¿—åˆ†æå®è·µ</span><!--]--></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><footer class="VPFooter has-sidebar" data-v-5d98c3a5 data-v-e315a0ad><div class="container" data-v-e315a0ad><p class="message" data-v-e315a0ad>åŸºäº çŸ¥è¯†å…±äº« CC BY-NC-SA è®¸å¯å‘å¸ƒ</p><p class="copyright" data-v-e315a0ad>ç‰ˆæƒæ‰€æœ‰ Â© 2019-2024 å¶èœè½</p></div></footer><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"base_linux_linux-os-learning.md\":\"B-zw3rrD\",\"base_linux_cpu-land_cpu-land-06.md\":\"BvyMp7Kj\",\"base_linux_linux-usage_linux-advanced-commands-part-01.md\":\"BXTB-DoB\",\"base_linux_linux-usage_linux-basic-commands.md\":\"CHxJnpdQ\",\"base_linux_linux-usage_linux-advanced-commands-part-02.md\":\"BwWTLIUc\",\"base_linux_linux-ecosystem.md\":\"np0q0qC2\",\"base_linux_linux-core.md\":\"Csy_048D\",\"base_linux_cpu-land_cpu-land-05.md\":\"DmAlz4gI\",\"base_linux_my-linux-experience.md\":\"LEUoSwFY\",\"base_linux_linux-usage_install-centos-using-a-vm.md\":\"DHTHlFg4\",\"base_linux_cpu-land-outline.md\":\"DUPe0nCY\",\"base_linux_linux-principle_linux-operating-principles.md\":\"e5fGv5rs\",\"base_linux_cpu-land_cpu-land-01.md\":\"CAQZfh1J\",\"base_linux_linux-usage_linux-monitoring-and-performance-tuning.md\":\"BON0Izc7\",\"base_linux_linux-base.md\":\"CDHs9_kT\",\"base_linux_linux-principle_linux-system-architecture.md\":\"CrAK2UF-\",\"big-data_ck_ck-case-bytedance.md\":\"B3cvhpv8\",\"base_linux_linux-principle_linux-design-principles.md\":\"BvmC4rnK\",\"base_linux_cpu-land_cpu-land-02.md\":\"w9zpCIdR\",\"big-data_ck_ck-case-ctrip.md\":\"BsEg3V7G\",\"big-data_ck_ck-case-ctrip-02.md\":\"BNvq-uyV\",\"base_linux_linux-learn-websites.md\":\"enNjMLAW\",\"base_linux_cpu-land_cpu-land-04.md\":\"Dl-qOwxs\",\"base_linux_linux-usage_use-a-public-cloud-host.md\":\"RzjDJ2Iv\",\"base_linux_cpu-land_cpu-land-03.md\":\"Dg0aWMI2\",\"big-data_ck_ck-best-practices.md\":\"DmnhjOXm\",\"base_linux_linux-level.md\":\"CMRBB3Y9\",\"base_linux_linux-vim.md\":\"DnN1gGWu\",\"base_linux_linux-grep-sed-awk.md\":\"CCVbrCSv\",\"big-data_ck_ck-case-qq-music.md\":\"CnGOFr21\",\"big-data_ck_ck-install-cluster-with-keeper.md\":\"Bme2g_Wv\",\"language_java.md\":\"X5xzGqGq\",\"others_how-to-read-a-book.md\":\"DeTayeyI\",\"index.md\":\"BjERIdGe\",\"others_tools.md\":\"Bpn44MMM\",\"big-data_ck_ck-install-cluster-with-zk.md\":\"gookt8bU\",\"big-data_ck_superset-install-and-ck-data-explore.md\":\"csj7Ak5o\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"Youluo's Blog\",\"description\":\"çŸ¥è¯†ï¼Œæœ¬è¯¥çº¯ç²¹çœŸå®ã€‚ ä¸åº”ä¸ºä¹±è±¡è€Œè¿·å¤±ï¼Œå› é¿è®³è€Œè—æ–ã€‚\",\"base\":\"/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"logo\":\"/favicon.ico\",\"nav\":[{\"text\":\"é¦–é¡µ\",\"link\":\"/\"},{\"text\":\"ğŸŒˆåŸºç¡€çŸ¥è¯†\",\"items\":[{\"text\":\"Linuxæ“ä½œç³»ç»Ÿ\",\"link\":\"/base/linux/linux-base\"},{\"text\":\"ç½‘ç»œåŸºç¡€\",\"link\":\"/item-2\"},{\"text\":\"ç®—æ³•ä¸æ•°æ®ç»“æ„\",\"link\":\"/item-2\"},{\"text\":\"æ•°æ®åº“åŸºç¡€\",\"link\":\"/item-3\"}]},{\"text\":\"â™¨ç¼–ç¨‹è¯­è¨€\",\"items\":[{\"text\":\"Java\",\"link\":\"/language/java\"},{\"text\":\"Python\",\"link\":\"/item-2\"},{\"text\":\"Golang\",\"link\":\"/item-2\"},{\"text\":\"Shell\",\"link\":\"/item-3\"}]},{\"text\":\"ğŸ¥¬æ¡†æ¶&å¤§æ•°æ®\",\"items\":[{\"text\":\"Spring&SpringBoot\",\"link\":\"/item-1\"},{\"text\":\"Nginx\",\"link\":\"/item-1\"},{\"text\":\"ClickHouse\",\"link\":\"/big-data/ck/ck-install-cluster-with-zk\"},{\"text\":\"ElasticSearch\",\"link\":\"/item-1\"},{\"text\":\"Flink\",\"link\":\"/item-1\"}]},{\"text\":\"ğŸš€DevOps\",\"items\":[{\"text\":\"Docker\",\"link\":\"/item-1\"},{\"text\":\"K8S\",\"link\":\"/item-1\"},{\"text\":\"Jenkins\",\"link\":\"/item-1\"},{\"text\":\"GitLab CI/CD\",\"link\":\"/item-1\"}]},{\"text\":\"ğŸ æ¶æ„çŸ¥è¯†\",\"items\":[{\"text\":\"è®¾è®¡æ¨¡å¼\",\"link\":\"/item-1\"}]},{\"text\":\"ğŸ›¡ç½‘ç»œå®‰å…¨\",\"link\":\"/\"},{\"text\":\"ğŸ‰äººå·¥æ™ºèƒ½\",\"link\":\"/\"},{\"text\":\"ğŸ’•å…¶ä»–\",\"items\":[{\"text\":\"æ•ˆç‡å·¥å…·\",\"link\":\"/others/tools\"},{\"text\":\"èµ„æºå¯¼èˆª\",\"link\":\"/item-1\"},{\"text\":\"è½¯æŠ€èƒ½\",\"link\":\"/item-1\"},{\"text\":\"å¼€å·æœ‰ç›Š\",\"link\":\"/others/how-to-read-a-book\"}]},{\"text\":\"å…³äº\",\"link\":\"/\"}],\"sidebar\":{\"/base/linux/\":[{\"text\":\"â¤ï¸LinuxåŸºç¡€çŸ¥è¯†â¤ï¸\",\"items\":[{\"text\":\"Linuxå­¦ä¹ è·¯çº¿\",\"link\":\"https://roadmap.sh/linux\"},{\"text\":\"Linuxå­¦ä¹ ç½‘ç«™\",\"link\":\"/base/linux/linux-learn-websites\"},{\"text\":\"Linuxè®¤çŸ¥\",\"collapsed\":false,\"items\":[{\"text\":\"Linuxè¯¦è§£-è®¤çŸ¥ï¼šæ“ä½œç³»ç»Ÿè®¤çŸ¥\",\"link\":\"/base/linux/cpu-land-outline\",\"collapsed\":true,\"items\":[{\"text\":\"CPUä¹‹æ—…-åŸºç¡€\",\"link\":\"/base/linux/cpu-land/cpu-land-01\"},{\"text\":\"CPUä¹‹æ—…-å¤šä»»åŠ¡\",\"link\":\"/base/linux/cpu-land/cpu-land-02\"},{\"text\":\"CPUä¹‹æ—…-æ‰§è¡Œç¨‹åº\",\"link\":\"/base/linux/cpu-land/cpu-land-03\"},{\"text\":\"CPUä¹‹æ—…-æ–‡ä»¶\",\"link\":\"/base/linux/cpu-land/cpu-land-04\"},{\"text\":\"CPUä¹‹æ—…-å†…å­˜\",\"link\":\"/base/linux/cpu-land/cpu-land-05\"},{\"text\":\"CPUä¹‹æ—…-è¿›ç¨‹Forkå’ŒExec\",\"link\":\"/base/linux/cpu-land/cpu-land-06\"}]},{\"text\":\"Linuxè¯¦è§£-è®¤çŸ¥ï¼šLinuxç”Ÿæ€è®¤çŸ¥\",\"link\":\"/base/linux/linux-ecosystem\"},{\"text\":\"Linuxè¯¦è§£-è®¤çŸ¥ï¼šLinuxçŸ¥è¯†ä½“ç³»\",\"link\":\"/base/linux/linux-level\"}]},{\"text\":\"Linuxä½¿ç”¨\",\"collapsed\":false,\"items\":[{\"text\":\"Linuxè¯¦è§£-å®‰è£…ï¼šä½¿ç”¨è™šæ‹Ÿæœºå®‰è£…CentOS\",\"link\":\"/base/linux/linux-usage/install-centos-using-a-vm\"},{\"text\":\"Linuxè¯¦è§£-å®‰è£…ï¼šä½¿ç”¨å…¬æœ‰äº‘ä¸»æœº\",\"link\":\"/base/linux/linux-usage/use-a-public-cloud-host\"},{\"text\":\"Linuxè¯¦è§£-å…¥é—¨ï¼šåŸºç¡€å‘½ä»¤\",\"link\":\"/base/linux/linux-usage/linux-basic-commands\"},{\"text\":\"Linuxè¯¦è§£-è¿›é˜¶ï¼šé«˜çº§ä½¿ç”¨1\",\"link\":\"/base/linux/linux-usage/linux-advanced-commands-part-01\"},{\"text\":\"Linuxè¯¦è§£-è¿›é˜¶ï¼šé«˜çº§ä½¿ç”¨2\",\"link\":\"/base/linux/linux-usage/linux-advanced-commands-part-02\"},{\"text\":\"Linuxè¯¦è§£-è¿›é˜¶ï¼šç›‘æ§å’Œè°ƒä¼˜\",\"link\":\"/base/linux/linux-usage/linux-monitoring-and-performance-tuning\"}]},{\"text\":\"LinuxåŸç†\",\"collapsed\":false,\"items\":[{\"text\":\"Linuxè¯¦è§£-åŸç†ï¼šè®¾è®¡åŸç†\",\"link\":\"/base/linux/linux-principle/linux-design-principles\"},{\"text\":\"Linuxè¯¦è§£-åŸç†ï¼šç³»ç»Ÿæ¶æ„\",\"link\":\"/base/linux/linux-principle/linux-system-architecture\"},{\"text\":\"Linuxè¯¦è§£-åŸç†ï¼šè¿è¡ŒåŸç†\",\"link\":\"/base/linux/linux-principle/linux-operating-principles\"}]},{\"text\":\"Linuxå¿ƒå¾—ä½“ä¼š\",\"collapsed\":true,\"items\":[{\"text\":\"Linuxå†…åŠŸå¿ƒæ³•\",\"link\":\"/base/linux/linux-level\"},{\"text\":\"vimæ€»ç»“\",\"link\":\"/base/linux/linux-vim\"},{\"text\":\"grep/sed/awkä¸‰å‰‘å®¢\",\"link\":\"/base/linux/linux-grep-sed-awk\"},{\"text\":\"ä½ ä¸€å®šç”¨å¾—ä¸Šçš„LinuxæŠ€å·§\",\"link\":\"/base/linux/my-linux-experience\"}]}]}],\"/big-data/\":[{\"text\":\"å¤§æ•°æ®\",\"items\":[{\"text\":\"â¤ClickHouse\",\"collapsed\":true,\"items\":[{\"text\":\"å®‰è£… - ClickHouseå®‰è£…(zkç‰ˆæœ¬)\",\"link\":\"/big-data/ck/ck-install-cluster-with-zk\"},{\"text\":\"å®‰è£… - ClickHouseå®‰è£…(keeperç‰ˆæœ¬)\",\"link\":\"/big-data/ck/ck-install-cluster-with-keeper\"},{\"text\":\"ä½¿ç”¨ - Supersetå®‰è£…åŠæ¢ç´¢CKæ•°æ®\",\"link\":\"/big-data/ck/superset-install-and-ck-data-explore\"},{\"text\":\"ä½¿ç”¨ - ClickHouseæœ€ä½³å®è·µ\",\"link\":\"/big-data/ck/ck-best-practices\"},{\"text\":\"å¤§å‚å®è·µ - è…¾è®¯ï¼šQQéŸ³ä¹PBçº§ClickHouseå®æ—¶æ•°æ®å¹³å°æ¶æ„æ¼”è¿›ä¹‹è·¯\",\"link\":\"/big-data/ck/ck-case-qq-music\"},{\"text\":\"å¤§å‚å®è·µ - æºç¨‹ï¼šæºç¨‹ClickHouseæ—¥å¿—åˆ†æå®è·µ\",\"link\":\"/big-data/ck/ck-case-ctrip\"},{\"text\":\"å¤§å‚å®è·µ - æºç¨‹ï¼š100äº¿+æ•°æ®é‡ï¼Œæ¯å¤©50W+æŸ¥è¯¢ï¼Œæºç¨‹é…’åº—æ•°æ®æ™ºèƒ½å¹³å°å®è·µ\",\"link\":\"/big-data/ck/ck-case-ctrip-02\"},{\"text\":\"å¤§å‚å®è·µ - å­—èŠ‚ï¼šByteHouseï¼šç™¾ä¸‡çº§TPSï¼çœ‹å­—èŠ‚è·³åŠ¨å¦‚ä½•åŸºäºClickHouseè½åœ°é«˜æ€§èƒ½å®æ—¶æ•°ä»“\",\"link\":\"/big-data/ck/ck-case-bytedance\"}]}]}],\"/language/\":[{\"text\":\"ç¼–ç¨‹è¯­è¨€\",\"collapsed\":false,\"items\":[{\"text\":\"Index\",\"link\":\"/language/\"},{\"text\":\"Three\",\"link\":\"/config/three\"},{\"text\":\"Four\",\"link\":\"/config/four\"}]}],\"/others/\":[{\"text\":\"å…¶ä»–\",\"items\":[{\"text\":\"æ•ˆç‡å·¥å…·\",\"link\":\"/others/tools\"},{\"text\":\"å¼€å·æœ‰ç›Š\",\"link\":\"/others/how-to-read-a-book\"}]}]},\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/yeyouluo/yeyouluo.github.io\"}],\"footer\":{\"message\":\"åŸºäº çŸ¥è¯†å…±äº« CC BY-NC-SA è®¸å¯å‘å¸ƒ\",\"copyright\":\"ç‰ˆæƒæ‰€æœ‰ Â© 2019-2024 å¶èœè½\"},\"lastUpdated\":{\"text\":\"æœ€åæ›´æ–°äº\"},\"outline\":\"deep\",\"outlineTitle\":\"é¡µé¢å¯¼èˆª\",\"docFooter\":{\"prev\":\"ä¸Šä¸€é¡µ\",\"next\":\"ä¸‹ä¸€é¡µ\"},\"search\":{\"provider\":\"local\"}},\"locales\":{},\"scrollOffset\":134,\"cleanUrls\":false}");</script>
    
  </body>
</html>